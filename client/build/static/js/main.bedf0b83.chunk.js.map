{"version":3,"sources":["components/i18n.js","components/Config.js","_actions/user_actions.js","_actions/types.js","hoc/auth.js","components/views/LandingPage/Sections/StyledSpinner.js","components/views/LandingPage/Sections/Spinner.js","components/views/LandingPage/Sections/MainImage.js","components/commons/GridCards.js","components/views/LandingPage/Sections/StyledSearchBar.js","components/views/LandingPage/Sections/SearchBar.js","components/views/LandingPage/Sections/hooks/useFetchMovies.js","components/views/LandingPage/LandingPage.js","components/views/GenresPage/GenresPage.js","components/views/GenresPage/hooks/useFetchByGenre.js","components/views/LoginPage/LoginPage.js","components/views/RegisterPage/RegisterPage.js","components/views/NavBar/Sections/LeftMenu.js","components/views/NavBar/Sections/RightMenu.js","components/views/NavBar/NavBar.js","components/views/Footer/Footer.js","components/views/MovieDetail/style.js","components/views/MovieDetail/Sections/LikeDislikes.js","components/views/MovieDetail/Sections/SingleComment.js","components/views/MovieDetail/Sections/ReplyComment.js","components/views/MovieDetail/Sections/Comments.js","components/views/MovieDetail/Sections/Favorite.js","components/views/MovieDetail/Sections/MovieInfo.js","components/views/MovieDetail/Sections/Recommended.js","components/views/MovieDetail/Sections/Similar.js","components/views/MovieDetail/MovieDetail.js","components/views/FavoritePage/FavoritePage.js","components/views/ProfilePage/ResetPass.js","components/views/ProfilePage/ProfilePage.js","components/views/Confirmation/Confirmation.js","components/views/ResetPassword/ResetPassword.js","components/views/ResetPassword/Reset.js","components/views/UsersPage/UsersPage.js","components/NotFound.js","components/App.js","serviceWorker.js","_reducers/index.js","_reducers/user_reducer.js","index.js"],"names":["language","localStorage","getItem","i18n","use","Backend","initReactI18next","init","lng","fallbackLng","whitelist","backend","loadPath","debug","interpolation","escapeValue","API_URL","API_KEY","CurrentLanguage","IMAGE_BASE_URL","headers","auth","type","payload","axios","get","then","response","data","ComposedClass","reload","AuthenticationCheck","props","user","useSelector","state","dispatch","useDispatch","useEffect","a","isAuth","history","push","StyledSpinner","styled","div","Spinner","Title","Typography","MainImage","landing","genre","style","background","image","height","backgroundSize","backgroundPosition","backgroundPositionY","width","position","backgroundColor","borderRadius","padding","maxWidth","bottom","marginLeft","color","level","genreName","GridCards","t","useTranslation","actor","movie","movieId","movieName","actorName","charName","date","vote","movieGenre","VoteColors","BadgeColor","score","getScoreColor","undefined","lg","md","xs","display","justifyContent","alignItems","hoverable","alt","cover","src","textAlign","fontWeight","offset","count","className","onClick","window","location","href","moment","Date","format","StyledSearchBar","StyledSearchBarContent","SearchBar","callback","useState","setState","timeOut","useRef","doSearch","event","value","target","clearTimeout","current","setTimeout","SearchOutlined","fontSize","placeholder","onChange","LandingPage","Movies","item","setItem","loading","setLoading","error","setError","year","setYear","sort","setSort","min","max","rating","setRating","yearRange","setYearRange","genreID","setGenreID","selectEl","selectElPop","fetchMovies","endpoint","isLoadMore","search","fetch","json","result","prev","results","CurrentPage","page","totalPages","total_pages","getFullYear","yyyy","toString","mm","getMonth","dd","getDate","mmChars","split","ddChars","convertDate","useFetchMovies","makeItYear","makeItSort","onRatingSliderChange","onYearRangeSliderChange","handleGenre","clearFilters","searchTerm","setSearchTerm","toggle","setToggle","buttonRef","addEventListener","handleScroll","genres","id","name","e","windowHeight","innerHeight","document","documentElement","offsetHeight","body","html","docHeight","Math","scrollHeight","clientHeight","pageYOffset","click","pickYear","MovieIcon","createFromIconfontCN","scriptUrl","flexDirection","margin","shape","gutter","span","ref","paddingRight","maxValue","minValue","step","Array","from","i","key","map","size","borderColor","Fragment","index","poster_path","release_date","vote_count","imdb_id","backdrop_path","overview","title","vote_average","genre_ids","length","to","slice","popularEndpoint","searchEndpoint","GenresPage","useParams","genreId","useHistory","fetchMoviesByGenre","goBack","randomIndex","floor","random","MainMovieImage","console","useFetchByGenre","handleClick","genresEndpoint","withRouter","rememberMeChecked","formErrorMessage","setFormErrorMessage","rememberMe","setRememberMe","handleRememberMe","initialUsername","initialValues","username","password","validationSchema","Yup","required","onSubmit","values","setSubmitting","dataToSubmit","post","loginUser","loginSuccess","userId","removeItem","catch","err","touched","errors","isSubmitting","handleChange","handleBlur","handleSubmit","Item","prefix","UserOutlined","onBlur","LockOutlined","autoComplete","border","checked","float","htmlType","minWidth","disabled","formItemLayout","labelCol","sm","wrapperCol","tailFormItemLayout","RegisterPage","setImage","React","content","setContent","imageInputRef","allowedTypes","uploadImage","preventDefault","files","url","extension","replace","toLowerCase","indexOf","message","fd","FormData","append","res","resize","secure_url","splice","img","Image","join","status","email","firstName","lastName","confirmPassword","matches","oneOf","registerUser","success","store","addNotification","insert","container","animationIn","animationOut","dismiss","duration","onScreen","alert","label","hasFeedback","validateStatus","cpassword","accept","PopcornIcon","LeftMenu","userData","mode","useStyles","makeStyles","theme","formControl","selectEmpty","marginTop","spacing","classes","changeLanguage","Username","setUsername","mounted","setMounted","fetchUsername","GroupIcon","LoginOutlined","UserAddOutlined","FormControl","Select","displayEmpty","autoWidth","disableUnderline","IconComponent","inputProps","MenuItem","LogoutOutlined","NavBar","visible","setVisible","zIndex","AlignRightOutlined","placement","closable","onClose","Footer","playerWrapper","paddingTop","reactPlayer","top","left","buttonChooseSource","buttonActors","loadingSources","marginRight","movieContainer","paddingBottom","backdrop","backgroundImage","backdropImage","objectFit","poster","boxShadow","releaseDate","genreList","listStyle","flexWrap","cursor","subtitle","marginBottom","crewList","LikeDislikes","Likes","setLikes","Dislikes","setDislikes","variable","video","videoId","commentId","Axios","likes","dislikes","LikeTwoTone","twoToneColor","up","paddingLeft","DislikeTwoTone","Meta","Card","SendIcon","TextArea","Input","SingleComment","CommentValue","setCommentValue","OpenReply","setOpenReply","str","variables","writer","_id","postId","responseTo","comment","refreshFunction","actions","showModal","handleCancel","author","avatar","datetime","onCancel","footer","currentTarget","ReplyComment","parentCommentId","ChildCommentNumber","setChildCommentNumber","OpenReplyComments","setOpenReplyComments","commentNumber","CommentLists","forEach","Comments","Comment","setComment","CommentOutlined","movieTitle","PopcornColorIcon","Favorite","userFrom","movieInfo","moviePost","movieRunTime","runtime","FavoriteNumber","setFavoriteNumber","Favorited","setFavorited","subscribeNumber","log","subcribed","MovieInfo","directors","cast","trailer","MovieInfoIcon","videoArray","embedLink","stopVideo","youtubeLink","Container","Grid","variant","component","element","iterator","pathname","YoutubeOutlined","frameBorder","allow","allowFullScreen","time","hours","mins","calcTime","original_title","production_companies","company","shift","substring","budget","numeral","revenue","RecommendedMovies","urlParams","this","data_arr","Component","withTranslation","SimilarMovies","MovieDetailPage","match","params","Movie","setMovie","Directors","setDirectors","Trailer","setTrailer","Casts","setCasts","setCommentLists","LoadingForMovie","setLoadingForMovie","LoadingForCasts","setLoadingForCasts","ActorToggle","setActorToggle","StreamTitleIcon","_mounted","endpointForMovieInfo","status_code","endpointForCasts","endpointTrailer","crew","filter","member","job","comments","Button","profile_path","character","newComment","concat","Recommended","Similar","FavoritePage","Favorites","setFavorites","Loading","fetchFavoredMovie","favorites","renderCards","favorite","ClockCircleOutlined","onClickDelete","DeleteOutlined","ResetPass","password_confirm","ProfilePage","UserID","setUserID","users","info","lang","updateUser","defaultValue","ForgotPassword","tokenConf","activeAccount","loginContainer","paper","login","signupButton","textfield","form","err_email","validationErrors","setValidationErrors","setValue","validateEmail","test","String","handleMailSend","err_mail","Grow","in","noValidate","alignContent","TextField","fullWidth","Boolean","helperText","justify","Link","forgotContainer","ResetPassword","err_password","err_password_confirm","fieldValue","setTextFieldsValues","handleResetClicked","API","UsersPage","UserList","setUserList","NotFound","App","fallback","minHeight","exact","path","Auth","LoginPage","MovieDetail","ResPassword","Confirmation","Reset","hostname","rootReducer","combineReducers","action","register","update","loginSucces","createStoreWithMiddleware","applyMiddleware","promiseMiddleware","ReduxThunk","createStore","ReactDOM","render","Reducer","__REDUX_DEVTOOLS_EXTENSION__","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bedf0b83.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport Backend from 'i18next-xhr-backend';\n\nlet language = localStorage.getItem('language');\nif (!language) {\n  language = \"en-US\";\n}\n\ni18n\n  // load translation using xhr -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\n  // learn more: https://github.com/i18next/i18next-xhr-backend\n  .use(Backend)\n  // pass the i18n instance to react-i18next.\n  .use(initReactI18next)\n  // init i18next\n  // for all options read: https://www.i18next.com/overview/configuration-options\n  .init({\n    lng: language,\n    fallbackLng: 'en-US',\n    whitelist: ['en-US', 'fr-FR'],\n    backend: {\n      loadPath: '/locales/{{lng}}/{{ns}}.json'\n    },\n    debug: false,\n    interpolation: {\n      escapeValue: false, // not needed for react as it escapes by default\n    }\n  });\n\n\nexport default i18n;","//SERVER ROUTES\nexport const USER_SERVER = '/api/users';\n\nexport const API_URL = 'https://api.themoviedb.org/3/';\nexport const API_KEY = '844dba0bfd8f3a4f3799f6130ef9e335';\nexport const CurrentLanguage = localStorage.getItem('language');\n\nexport const IMAGE_BASE_URL ='http://image.tmdb.org/t/p/';\n\n//Sizes: w300, w780, w1280, original\nexport const BACKDROP_SIZE = 'w1280'\nexport const IMAGE_SIZE = 'w1280'\n\n// w92, w154, w185, w342, w500, w780, original\nexport const POSTER_SIZE = 'w500'","import axios from 'axios';\n\nimport {\n    LOGIN_USER,\n    REGISTER_USER,\n    UPDATE_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from './types';\nimport { USER_SERVER } from '../components/Config.js';\nconst headers = { 'Content-Type': 'application/json' };\n\nexport default function GetMovieSources(movieId){\n    \n    return axios.get(`/api/movies/${movieId}`,\n    {\n        withCredentials: true,\n        headers: headers\n    })\n}\nexport function registerUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/register`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\nexport function updateUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/update`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: UPDATE_USER,\n        payload: request\n    }\n}\n\nexport function resetPasswordProfile(password, password_confirm){\n    \n    return axios.post(`${USER_SERVER}/updatePassword`,\n        {password, password_confirm },\n        { headers: headers }\n    )\n}\n\nexport function confirmation(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/confirmation`,dataToSubmit)\n        .then(response => response.data);\n    \n    return {\n        type: REGISTER_USER,\n        payload: request\n    }\n}\nexport function sendResetMail(email){\n    return axios.post(`${USER_SERVER}/forgotPassword`,{email},\n    { headers: headers }\n    )\n}\nexport function resetPassword(tokenConf, password, password_confirm){\n    \n    return axios.post(`${USER_SERVER}/reset/${tokenConf}`,\n        {tokenConf, password, password_confirm},\n        { headers: headers }\n    )\n}\n\nexport function activeAccount(tokenConf){\n    return axios.get(`${USER_SERVER}/confirmation/${tokenConf}`,\n    { headers: headers } \n    )\n}\n\n\nexport function loginUser(dataToSubmit){\n    const request = axios.post(`${USER_SERVER}/login`,dataToSubmit)\n                .then(response => response.data);\n\n    return {\n        type: LOGIN_USER,\n        payload: request\n    }\n}\n\nexport function auth(){\n    const request = axios.get(`${USER_SERVER}/auth`)\n    .then(response => response.data);\n\n    return {\n        type: AUTH_USER,\n        payload: request\n    }\n}\n\nexport function logoutUser(){\n    const request = axios.get(`${USER_SERVER}/logout`)\n    .then(response => response.data);\n\n    return {\n        type: LOGOUT_USER,\n        payload: request\n    }\n}\n\n","export const LOGIN_USER = 'login_user';\nexport const REGISTER_USER = 'register_user';\nexport const UPDATE_USER = 'update_user';\nexport const AUTH_USER = 'auth_user';\nexport const LOGOUT_USER = 'logout_user';\n","import React, { useEffect } from 'react';\nimport { auth } from '../_actions/user_actions';\nimport { useSelector, useDispatch } from \"react-redux\";\n\nexport default function (ComposedClass, reload = null) {\n    function AuthenticationCheck(props) {\n\n        let user = useSelector(state => state.user);\n        const dispatch = useDispatch();\n\n        useEffect(() => {\n\n            dispatch(auth()).then(async response => {\n                if (await !response.payload.isAuth) {\n                    if (reload) {\n                        props.history.push('/login')\n                    }\n                } else {\n                        if (reload === false) {\n                            props.history.push('/landing')\n                        }\n                }\n            })\n\n        }, [dispatch, props.history])\n\n        return (\n            <ComposedClass {...props} user={user} />\n        )\n    }\n    return AuthenticationCheck\n}\n\n\n","import styled from 'styled-components';\n\nexport const StyledSpinner = styled.div`\n  border: 4px solid #757575; /* grey */\n  border-top: 5px solid #19ba90; /* Blixbox green */\n  border-radius: 50%;\n  width: 55px;\n  height: 55px;\n  animation: spin 0.8s linear infinite;\n  margin: 20px auto;\n\n  @keyframes spin {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n`;\n\nexport default StyledSpinner","import React from 'react'\nimport StyledSpinner from './StyledSpinner'\n\nconst Spinner = () => <StyledSpinner />\n\nexport default Spinner","import React from 'react'\nimport { Typography } from 'antd';\nconst { Title } = Typography;\n\nfunction MainImage(props) {\n\n    let { landing, genre } = props\n    if (landing) {\n        return (\n            <div\n                style={{\n                    background:\n                        `linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('${props.image}'), #1c1c1c`,\n                    // height: '500px',\n                    height: '400px',\n                    backgroundSize: '100%, cover',\n                    backgroundPosition: 'center, center',\n                    backgroundPositionY: '9px',\n                    width: '100%',\n                    position: 'relative'\n                }}\n            >\n            </div>\n        )\n    } else {\n        if (genre) {\n            return (\n                <div\n                    style={{\n                        background:\n                            `linear-gradient(to bottom, rgba(0,0,0,0)\n            39%,rgba(0,0,0,0)\n            41%,rgba(0,0,0,0.65)\n            100%),\n            url('${props.image}'), #1c1c1c`,\n                        // height: '500px',\n                        height: '400px',\n                        backgroundSize: '100%, cover',\n                        backgroundPosition: 'center, center',\n                        backgroundPositionY: '9px',\n                        width: '100%',\n                        position: 'relative'\n                    }}\n                >\n                    <div>\n                        <div style={{ backgroundColor: 'rgba(0, 0, 0, 0.5)', borderRadius: '10px', padding: '10px', position: 'absolute', maxWidth: '500px', bottom: '2rem', marginLeft: '2rem' }} >\n                            <Title style={{ color: 'white' }} level={2} > {props.genreName}</Title>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n}\n\nexport default MainImage\n","import React from 'react'\nimport { Col, Card, Badge } from 'antd';\nimport { IMAGE_BASE_URL } from '../Config';\nimport moment from 'moment';\nimport { useTranslation } from 'react-i18next';\n\nfunction GridCards(props) {\n\n    const { t } = useTranslation();\n    let { actor, movie, image, movieId, movieName, actorName, charName, date, vote, movieGenre } = props\n    const POSTER_SIZE = \"w154\";\n\n    const VoteColors = {\n        UNKNOWN: '#999',\n        BAD: '#cd5c5c',\n        OK: '#ffa500',\n        EXCELLENT: '#52c41a'\n    }\n\n    function getScoreColor(score) {\n        let color = VoteColors.EXCELLENT\n        if (!score || vote === 0) color = VoteColors.UNKNOWN\n        else if (score < 5.5) color = VoteColors.BAD\n        else if (score < 7) color = VoteColors.OK\n\n        return color\n    }\n\n    const BadgeColor = getScoreColor(vote)\n\n    const imageClick = () => {\n        return (window.location.href = \"/movie/\" + movieId)\n    }\n\n    if (actor !== undefined) {\n        return (\n            <Col lg={4} md={6} xs={24}>\n                <div style={{ position: 'relative', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n                    <Card\n                        hoverable\n                        style={{ width: '100%' }}\n                        alt={movieName}\n                        cover={<img alt={actorName} src={image ? `${IMAGE_BASE_URL}${POSTER_SIZE}${image}` : 'https://res.cloudinary.com/dkyqbngya/image/upload/v1586537514/twdjio2duy8ebxulqwti.png'} />}\n                    >\n                        <h3 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{actorName}</h3>\n                        <h5 style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{charName}</h5>\n                    </Card>\n                </div>\n            </Col>\n        )\n    } else {\n        if (movie !== undefined) {\n            return (\n                <Col lg={4} md={6} xs={24}>\n                    <div style={{ position: 'relative' }}>\n                        <Badge\n                            style={{ backgroundColor: BadgeColor }}\n                            offset={[-15, 15]}\n                            count={vote}>\n                                <Card className=\"posterCard\"\n                                    hoverable\n                                    style={{ width: '100%', height: '100%' }}\n                                    alt={movieName}\n                                    cover={<img onClick={() => imageClick()} alt={movieName} src={image ? `${image}` : t('landing.notAvail')} />}\n                                >\n                                    <a style={{ color: \"black\" }} href={`/movie/${movieId}`} ><div style={{ textAlign: \"center\", fontWeight: \"bold\" }}>{movieName} ({date ? moment(new Date(date)).format('YYYY') : 'N/A'})</div></a>\n                                    <br />\n                                    <div style={{ textAlign: \"center\" }}>{movieGenre}</div>\n                                </Card>\n                            </Badge>\n                    </div>\n                </Col>\n            )\n        }\n    }\n\n}\n\nexport default GridCards\n","import styled from 'styled-components';\n\nexport const StyledSearchBar = styled.div`\n  width: 100%;\n  height: 105px;\n  background: white;\n  padding: 25px 20px 0px 20px;\n  box-sizing: border-box;\n  color: black;\n`;\n\nexport const StyledSearchBarContent = styled.div`\n  max-width: 1280px;\n  width: 100%;\n  height: 55px;\n  background: white;\n  margin: 0 auto;\n  border-radius: 40px;\n  border: solid 0.5px black;\n  position: relative;\n  color: black;\n\n  .fa-search {\n    position: absolute;\n    left: 20px;\n    top: 12px;\n    color: black;\n    z-index: auto;\n  }\n\n  input {\n    font-family: 'Abel', sans-serif;\n    font-size: 28px;\n    position: absolute;\n    left: 0px;\n    margin: 8px 0;\n    padding: 0 0 0 60px;\n    border: 0;\n    width: 95%;\n    background: transparent;\n    height: 40px;\n    color: black;\n    box-sizing: border-box;\n\n    :focus {\n      outline: none;\n    }\n\n    @media screen and (max-width: 720px) {\n      font-size: 28px;\n    }\n  }\n`;\n\nexport default StyledSearchBar","import React, { useState, useRef } from 'react'\nimport { StyledSearchBar, StyledSearchBarContent } from './StyledSearchBar'\nimport { SearchOutlined } from '@ant-design/icons';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nconst SearchBar = ({ callback }) => {\n\n  const { t } = useTranslation();\n  const [state, setState] = useState('')\n  const timeOut = useRef(null)\n  //controlled component\n\n  const doSearch = event => {\n    // console.log(event.target.value)\n    const { value } = event.target\n\n    clearTimeout(timeOut.current)\n    setState(value)\n\n    timeOut.current = setTimeout(() => {\n      callback(value)\n    }, 500)\n  }\n\n  return (\n    <StyledSearchBar>\n      <StyledSearchBarContent>\n        <SearchOutlined className=\"fa-search\" style={{ fontSize: '30px' }} />\n        <input\n          type=\"text\"\n          className=\"large\"\n          placeholder={t('landing.search')}\n          onChange={doSearch}\n          value={state}\n        />\n        <input\n          type=\"text\"\n          className=\"small\"\n          placeholder={t('landing.searchSmall')}\n          onChange={doSearch}\n          value={state}\n        />\n      </StyledSearchBarContent>\n    </StyledSearchBar>\n  )\n}\n\nSearchBar.propTypes = {\n  callback: PropTypes.func,\n}\nexport default SearchBar","import { useState, useEffect, useRef } from 'react'\nimport { API_URL, API_KEY } from '../../../../Config'\n\nconst CurrentLanguage = localStorage.getItem('language');\n\nconst date = new Date();\n\nfunction convertDate(date) {\n  const yyyy = date.getFullYear().toString();\n  const mm = (date.getMonth() + 1).toString();\n  const dd = date.getDate().toString();\n\n  const mmChars = mm.split('');\n  const ddChars = dd.split('');\n\n  return yyyy + '-' + (mmChars[1] ? mm : \"0\" + mmChars[0]) + '-' + (ddChars[1] ? dd : \"0\" + ddChars[0]);\n}\n\n//custom hook\nexport const useFetchMovies = () => {\n  const [item, setItem] = useState({ Movies: [] })\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(false)\n  const [year, setYear] = useState('')\n  const [sort, setSort] = useState('popularity.desc')\n  const [rating, setRating] = useState({ min: 0, max: 10 });\n  const [yearRange, setYearRange] = useState({ min: 1980, max: 2020 });\n  const [genreID, setGenreID] = useState([]);\n  const selectEl = useRef(null);\n  const selectElPop = useRef(null);\n\n  const fetchMovies = async endpoint => {\n    setError(false)\n    setLoading(true)\n\n    const isLoadMore = endpoint.search('page')\n    try {\n      const result = await (await fetch(endpoint)).json()\n\n      setItem(prev => ({\n        ...prev,\n        Movies:\n          isLoadMore !== -1\n            ? [...prev.Movies, ...result.results]\n            : [...result.results],\n        CurrentPage: result.page,\n        totalPages: result.total_pages,\n      }))\n    } catch (error) {\n      setError(true)\n    }\n    setLoading(false)\n  }\n\n  const makeItYear = (event) => {\n    setYearRange({ min: 1980, max: 2020 })\n    setYear(event.target.value)\n    setLoading(false);\n  }\n\n  const makeItSort = (event) => {\n    setSort(event.target.value)\n    setLoading(false);\n  }\n\n  const onRatingSliderChange = (value) => {\n    setSort('popularity.desc')\n    setRating(value);\n    setLoading(false);\n  };\n\n  const onYearRangeSliderChange = (value) => {\n    setYear('');\n    selectEl.current.value = '';\n    setYearRange(value);\n    setLoading(false);\n  };\n\n\n  const handleGenre = (event) => {\n    setGenreID(event.target.value);\n    setLoading(false);\n  };\n\n  const clearFilters = () => {\n    selectEl.current.value = '';\n    selectElPop.current.value = 'popularity.desc';\n    setYear('')\n    setGenreID('')\n    setRating({ min: 0, max: 10 })\n    setYearRange({ min: 1980, max: 2020 })\n    setSort('popularity.desc')\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    const CurrentLanguage = localStorage.getItem('language');\n    fetchMovies(`${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&vote_average.gte=${rating.min}&vote_average.lte=${rating.max}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}`)\n// eslint-disable-next-line \n  }, [CurrentLanguage, year, sort, rating.min, rating.max, yearRange.min, yearRange.max, genreID])\n\n  return [{ item, loading, error, year, sort, rating, yearRange, genreID, selectEl, selectElPop }, fetchMovies, makeItYear, makeItSort, onRatingSliderChange, onYearRangeSliderChange, handleGenre, clearFilters]\n}","import React, { useState, useEffect, useRef } from 'react'\r\nimport { Typography, Row, Col, Button, Divider } from 'antd';\r\nimport { API_URL, API_KEY, IMAGE_BASE_URL, POSTER_SIZE, CurrentLanguage } from '../../Config'\r\nimport MainImage from './Sections/MainImage'\r\nimport GridCard from '../../commons/GridCards'\r\nimport { useTranslation } from 'react-i18next';\r\nimport SearchBar from './Sections/SearchBar';\r\nimport Spinner from './Sections/Spinner';\r\nimport { Link } from 'react-router-dom';\r\nimport { createFromIconfontCN } from '@ant-design/icons';\r\nimport InputRange from \"react-input-range\";\r\n\r\n//custom hook\r\nimport { useFetchMovies } from './Sections/hooks/useFetchMovies'\r\n\r\nconst { Title } = Typography;\r\n\r\nconst date = new Date();\r\n\r\nconst LandingPage = () => {\r\n\r\n    const [\r\n        { item: { Movies, CurrentPage, totalPages },\r\n            loading,\r\n            error,\r\n            year,\r\n            sort,\r\n            rating,\r\n            yearRange,\r\n            genreID,\r\n            selectEl,\r\n            selectElPop\r\n        },\r\n        fetchMovies,\r\n        makeItYear,\r\n        makeItSort,\r\n        onRatingSliderChange,\r\n        onYearRangeSliderChange,\r\n        handleGenre,\r\n        clearFilters\r\n    ] = useFetchMovies()\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [toggle, setToggle] = useState(false);\r\n    const buttonRef = useRef(null);\r\n    const { t } = useTranslation();\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"scroll\", handleScroll);\r\n    }, [])\r\n\r\n    function convertDate(date) {\r\n        const yyyy = date.getFullYear().toString();\r\n        const mm = (date.getMonth() + 1).toString();\r\n        const dd = date.getDate().toString();\r\n\r\n        const mmChars = mm.split('');\r\n        const ddChars = dd.split('');\r\n\r\n        return yyyy + '-' + (mmChars[1] ? mm : \"0\" + mmChars[0]) + '-' + (ddChars[1] ? dd : \"0\" + ddChars[0]);\r\n    }\r\n\r\n    const genres = [\r\n        { id: 28, name: t('genre.Action') },\r\n        { id: 12, name: t('genre.Adventure') },\r\n        { id: 16, name: t('genre.Animation') },\r\n        { id: 35, name: t('genre.Comedy') },\r\n        { id: 80, name: t('genre.Crime') },\r\n        { id: 99, name: t('genre.Documentary') },\r\n        { id: 18, name: t('genre.Drama') },\r\n        { id: 10751, name: t('genre.Family') },\r\n        { id: 14, name: t('genre.Fantasy') },\r\n        { id: 36, name: t('genre.History') },\r\n        { id: 27, name: t('genre.Horror') },\r\n        { id: 10402, name: t('genre.Music') },\r\n        { id: 9648, name: t('genre.Mystery') },\r\n        { id: 10749, name: t('genre.Romance') },\r\n        { id: 878, name: t('genre.Sci-Fi') },\r\n        { id: 10770, name: t('genre.TV-Movie') },\r\n        { id: 53, name: t('genre.Thriller') },\r\n        { id: 10752, name: t('genre.War') },\r\n        { id: 37, name: t('genre.Western') },\r\n    ];\r\n\r\n    //search movies function \r\n    const searchMovies = search => {\r\n        const endpoint = search ? `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&query=` + search : `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}`\r\n        setSearchTerm(search)\r\n        fetchMovies(endpoint)\r\n    }\r\n\r\n    //loadmoremovies function\r\n    const loadMoreMovies = () => {\r\n        const popularEndpoint = `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&vote_count.gte=2500&sort_by=${sort}&primary_release_year=${year}&vote_average.gte=${rating.min}&vote_average.lte=${rating.max}&primary_release_date.gte=${yearRange.min}-01-01&primary_release_date.lte=${yearRange.max === date.getFullYear() ? convertDate(date) : yearRange.max + '-12-31'}&with_genres=${genreID}&page=${CurrentPage + 1}`;\r\n        const searchEndpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&query=${searchTerm}&page=${CurrentPage + 1}`\r\n        const endpoint = searchTerm ? searchEndpoint : popularEndpoint\r\n        fetchMovies(endpoint)\r\n    }\r\n\r\n    const handleScroll = e => {\r\n        const windowHeight =\r\n            'innerHeight' in window\r\n                ? window.innerHeight\r\n                : document.documentElement.offsetHeight;\r\n\r\n        const body = document.body;\r\n        const html = document.documentElement;\r\n\r\n        const docHeight = Math.max(\r\n            body.scrollHeight,\r\n            body.offsetHeight,\r\n            html.clientHeight,\r\n        );\r\n\r\n        const windowBottom = windowHeight + window.pageYOffset;\r\n\r\n        if (windowBottom >= docHeight - 1) {\r\n            buttonRef.current && buttonRef.current.click();\r\n        }\r\n    };\r\n\r\n    const toggleFilterBar = () => {\r\n        setToggle(!toggle)\r\n    }\r\n    const pickYear = new Date().getFullYear();\r\n\r\n    const MovieIcon = createFromIconfontCN({\r\n        scriptUrl: '//at.alicdn.com/t/font_1804216_tqdqw1tcevm.js',\r\n    });\r\n\r\n    if (error) return <div style={{ width: '100%', fontSize: '1.5rem', height: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>Woops! Something went very wrong...</div>\r\n    return (\r\n        <div style={{ width: '100%', margin: '0' }}>\r\n            <MainImage landing\r\n                image={\"https://res.cloudinary.com/dkyqbngya/image/upload/v1586011642/czr9s0nxspurc9blgn9l.jpg\"}\r\n            />\r\n\r\n            <SearchBar callback={searchMovies} />\r\n\r\n            {/* Filters */}\r\n\r\n            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                <Button type=\"primary\" shape=\"round\" onClick={toggleFilterBar} style={{ fontSize: '1rem' }}>{!toggle ? t('filters.showFilters') : t('filters.dontShowFilters')}</Button>\r\n            </div>\r\n\r\n            {toggle &&\r\n                <div style={{ width: '85%', margin: '1rem auto', justifyContent: 'center' }}>\r\n                    <br />\r\n                    <Row gutter={[8, 8]}>\r\n                        <Col span={12}>\r\n                            <form style={{ textAlign: 'center' }}>\r\n                                <label style={{ padding: \"10px\" }}><b>{t('filters.sortMovies')}:</b></label>\r\n                                <select name=\"sortBy\" onChange={makeItSort} ref={selectElPop}>\r\n                                    <option value=\"popularity.desc\">{t('filters.sortMovies')}</option>\r\n                                    <option value=\"primary_release_date.desc\">{t('filters.releaseYearHigh')}</option>\r\n                                    <option value=\"primary_release_date.asc\">{t('filters.releaseYearLow')}</option>\r\n                                    <option value=\"original_title.asc\">{t('filters.titleName')}</option>\r\n                                    <option value=\"vote_average.desc\">{t('filters.ratingHigh')}</option>\r\n                                    <option value=\"vote_average.asc\">{t('filters.ratingLow')}</option>\r\n                                </select>\r\n                            </form>\r\n                        </Col>\r\n                        <br />\r\n                        <Col span={12}>\r\n                            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                                <p style={{ display: 'flex', justifyContent: 'center', paddingRight: '20px' }}><b>{t('filters.rating')}</b></p>\r\n                                <InputRange\r\n                                    className=\"input-range\"\r\n                                    maxValue={10}\r\n                                    minValue={0}\r\n                                    step={2}\r\n                                    value={rating}\r\n                                    onChange={value => onRatingSliderChange(value)}\r\n                                    // onChange={rating => onRatingSliderChange(rating)}\r\n                                />\r\n                            </div>\r\n                        </Col>\r\n                        <br />\r\n                    </Row>\r\n                    <Row gutter={[8, 8]}>\r\n                        <Col span={12}>\r\n                            <form style={{ textAlign: 'center' }}>\r\n                                <label style={{ padding: \"10px\" }}><b>{t('filters.sortYear')}:</b></label>\r\n                                <select onChange={makeItYear} ref={selectEl}>\r\n                                    <option value=\"\">{t('filters.year')}</option>\r\n                                    {Array.from(new Array(41), (value, i) =>\r\n                                        <option key={i} value={pickYear - i}>{pickYear - i}</option>\r\n                                    )}\r\n                                </select>\r\n                            </form>\r\n                        </Col>\r\n                        <Col span={12}>\r\n                            <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n\r\n                                <p style={{ display: 'flex', justifyContent: 'center', paddingRight: '20px' }}><b>{t('filters.releaseYear')}</b></p>\r\n                                <InputRange\r\n                                    className=\"input-range\"\r\n                                    maxValue={2020}\r\n                                    minValue={1980}\r\n                                    step={10}\r\n                                    value={yearRange}\r\n                                    onChange={value => onYearRangeSliderChange(value)}\r\n                                />\r\n                            </div>\r\n                        </Col>\r\n                    </Row>\r\n\r\n                    <Divider>Genres</Divider>\r\n                    <div style={{ textAlign: 'center' }}>\r\n                        {genres.map(\r\n                            genre =>\r\n                                <Button\r\n                                    key={genre.name}\r\n                                    shape=\"round\"\r\n                                    size=\"small\"\r\n                                    onClick={handleGenre}\r\n                                    value={genre.id}\r\n                                    style={{ borderColor: \"#19ba90\", textAlign: \"center\", fontSize: \"0.9em\", margin: \"1px\" }}\r\n                                >{genre.name}\r\n                                </Button>\r\n                        )}\r\n                    </div>\r\n\r\n                    <br />\r\n                    <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n                        {/* <Button><a href=\"/landing\">{t('filters.clearFilters')}</a></Button> */}\r\n                        <Button onClick={clearFilters}>{t('filters.clearFilters')}</Button>\r\n                    </div>\r\n\r\n                </div>\r\n            }\r\n\r\n            <div style={{ width: '85%', margin: '1rem auto' }}>\r\n\r\n\r\n                <React.Fragment>\r\n                    <Title level={2}><MovieIcon type=\"icon-movie3\" style={{ fontSize: \"35px\", paddingRight: \"10px\" }} />{searchTerm ? t('landing.searchRes') : t('landing.latest')}</Title>\r\n                    <hr />\r\n                    <br />\r\n                </React.Fragment>\r\n\r\n                <Row gutter={[16, 16]}>\r\n                    {Movies !== undefined && Movies[0] ? Movies && Movies.map((movie, index) => (\r\n                        <React.Fragment key={movie.id}>\r\n                            {movie && movie.poster_path && movie.release_date && movie.vote_count > 2300\r\n                                && movie.imdb_id !== null && movie.backdrop_path !== null && movie.overview !== null && (\r\n                                    <GridCard movie\r\n                                        image={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : t('landing.notAvail')}\r\n                                        movieId={movie.id}\r\n                                        movieName={movie.title}\r\n                                        date={movie.release_date}\r\n                                        vote={movie.vote_average ? movie.vote_average : 'N/A'}\r\n                                        movieGenre={movie.genre_ids &&\r\n                                            movie.genre_ids.length &&\r\n                                            movie.genre_ids.map(genreID => (\r\n                                                <span key={genreID}>\r\n                                                    {genres.map(\r\n                                                        genre =>\r\n                                                            genreID === genre.id && (\r\n                                                                <Link key={genre.name} to={`/landing/genre/${genre.name}/${genre.id}`}>\r\n                                                                    <Button\r\n                                                                        key={genre.name}\r\n                                                                        shape=\"round\"\r\n                                                                        size=\"small\"\r\n                                                                        style={{ borderColor: \"#19ba90\", textAlign: \"center\", fontSize: \"0.9em\", margin: \"1px\" }}\r\n                                                                    >{genre.name}\r\n                                                                    </Button>\r\n                                                                </Link>\r\n                                                            )\r\n                                                    )}\r\n                                                </span>\r\n                                            )).slice(0, 3)}\r\n                                    />\r\n                                )\r\n                            }\r\n                        </React.Fragment>\r\n                    )) : !Movies[0] && !loading && <div style={{ width: '100%', fontSize: '1.5rem', height: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>{t(\"landing.noresults\")}</div>}\r\n                </Row>\r\n\r\n                {loading && <Spinner />}\r\n                {CurrentPage < totalPages && !loading && (\r\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                        <div ref={buttonRef} className=\"loadMore\" onClick={loadMoreMovies}>{t('landing.loadmore')}</div>\r\n                    </div>\r\n                )}\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LandingPage","import React, { useState, useRef, useEffect } from 'react'\nimport { useParams } from \"react-router-dom\";\nimport { Typography, Row, Button } from 'antd';\nimport { API_URL, API_KEY, IMAGE_BASE_URL, POSTER_SIZE, IMAGE_SIZE, CurrentLanguage } from '../../Config'\nimport { useTranslation } from 'react-i18next';\nimport MainImage from '../../views/LandingPage/Sections/MainImage'\nimport GridCard from '../../commons/GridCards';\nimport SearchBar from '../LandingPage/Sections/SearchBar';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport { Link } from 'react-router-dom';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n// Hooks\nimport { useFetchByGenre } from './hooks/useFetchByGenre';\n\nconst { Title } = Typography;\n\nconst GenresPage = () => {\n    let { genreId, genreName, movieId } = useParams();\n    const [{ state: { Movies, MainMovieImage, CurrentPage, totalPages },\n        loading,\n        error },\n        fetchMoviesByGenre\n    ] = useFetchByGenre(genreId);\n    const history = useHistory();\n\n    const handleClick = () => {\n        history.push(`/movie/${movieId}`);\n    }\n\n    const [searchTerm, setSearchTerm] = useState('');\n    const buttonRef = useRef(null);\n    const { t } = useTranslation();\n\n    useEffect(() => {\n        window.addEventListener(\"scroll\", handleScroll);\n    }, [])\n\n    const genres = [\n        { id: 28, name: t('genre.Action') },\n        { id: 12, name: t('genre.Adventure') },\n        { id: 16, name: t('genre.Animation') },\n        { id: 35, name: t('genre.Comedy') },\n        { id: 80, name: t('genre.Crime') },\n        { id: 99, name: t('genre.Documentary') },\n        { id: 18, name: t('genre.Drama') },\n        { id: 10751, name: t('genre.Family') },\n        { id: 14, name: t('genre.Fantasy') },\n        { id: 36, name: t('genre.History') },\n        { id: 27, name: t('genre.Horror') },\n        { id: 10402, name: t('genre.Music') },\n        { id: 9648, name: t('genre.Mystery') },\n        { id: 10749, name: t('genre.Romance') },\n        { id: 878, name: t('genre.Sci-Fi') },\n        { id: 10770, name: t('genre.TV-Movie') },\n        { id: 53, name: t('genre.Thriller') },\n        { id: 10752, name: t('genre.War') },\n        { id: 37, name: t('genre.Western') },\n    ];\n\n    const searchMovies = search => {\n        const endpoint = search ? `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}&query=` + search : `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}`\n        setSearchTerm(search)\n        fetchMoviesByGenre(endpoint)\n    }\n\n    const loadMoreMovies = () => {\n        const genresEndpoint = `${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}&page=${CurrentPage + 1}`;\n        const searchEndpoint = `${API_URL}search/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}&query=${searchTerm}&page=${CurrentPage + 1}`\n        const endpoint = searchTerm ? searchEndpoint : genresEndpoint\n        fetchMoviesByGenre(endpoint);\n    }\n\n    const handleScroll = e => {\n        const windowHeight =\n            'innerHeight' in window\n                ? window.innerHeight\n                : document.documentElement.offsetHeight;\n\n        const body = document.body;\n        const html = document.documentElement;\n\n        const docHeight = Math.max(\n            body.scrollHeight,\n            body.offsetHeight,\n            html.clientHeight,\n        );\n\n        const windowBottom = windowHeight + window.pageYOffset;\n\n        if (windowBottom >= docHeight - 1) {\n            buttonRef.current && buttonRef.current.click();\n        }\n    };\n\n    const MovieIcon = createFromIconfontCN({\n        scriptUrl: '//at.alicdn.com/t/font_1804216_tqdqw1tcevm.js',\n    });\n\n    if (error) return <div>Something went wrong...</div>;\n    return (\n        <div style={{ width: '100%', margin: '0' }}>\n            {!loading ? MainMovieImage !== null &&\n                <MainImage genre\n                    image={MainMovieImage.backdrop_path ? `${IMAGE_BASE_URL}${IMAGE_SIZE}${MainMovieImage.backdrop_path}` : \"https://res.cloudinary.com/dkyqbngya/image/upload/v1586787757/detykqycj7ejezsjmxln.png\"}\n                    genreName={genreName}\n                />\n                :\n                <div><Spinner /></div>\n            }\n\n                <SearchBar callback={searchMovies} />\n\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <Button type=\"primary\" shape=\"round\" style={{ fontSize: '1rem' }}><a href=\"/landing\">{t('genre.landing')}</a></Button>\n            </div>\n\n            <div style={{ width: '85%', margin: '1rem auto' }}>\n\n                {!loading ?\n                    <React.Fragment>\n                        <Title level={2}><MovieIcon type=\"icon-movie3\" style={{ fontSize: \"35px\", paddingRight: \"10px\" }} />{searchTerm ? t('landing.searchRes') : genreName}</Title>\n                        <hr />\n                        <br />\n                    </React.Fragment>\n                    :\n                    null}\n\n                <Row gutter={[16, 16]}>\n                    {Movies[0] ? Movies && Movies.map((movie, index) => (\n                        <React.Fragment key={movie.id}>\n                            {movie && movie.poster_path && movie.release_date && movie.vote_count > 2300\n                                && movie.imdb_id !== null && movie.backdrop_path !== null && movie.overview !== null && (\n                                    <GridCard movie\n                                        onClick={handleClick}\n                                        image={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : t('landing.notAvail')}\n                                        movieId={movie.id}\n                                        movieName={movie.title}\n                                        date={movie.release_date}\n                                        vote={movie.vote_average ? movie.vote_average : 'N/A'}\n                                        movieGenre={movie.genre_ids &&\n                                            movie.genre_ids.length &&\n                                            movie.genre_ids.map(genreID => (\n                                                <span key={genreID}>\n                                                    {genres.map(\n                                                        genre =>\n                                                            genreID === genre.id && (\n                                                                <Link key={genre.name} to={`/landing/genre/${genre.name}/${genre.id}`}>\n                                                                    <Button\n                                                                        key={genre.name}\n                                                                        shape=\"round\"\n                                                                        size=\"small\"\n                                                                        style={{ borderColor: \"#19ba90\", textAlign: \"center\", fontSize: \"0.9em\", margin: \"1px\" }}\n                                                                    >{genre.name}\n                                                                    </Button>\n                                                                </Link>\n                                                            )\n                                                    )}\n                                                </span>\n                                            )).slice(0, 3)}\n                                    />)\n                            }\n                        </React.Fragment>\n                    )) : !Movies[0] && !loading && <div style={{ width: '100%', fontSize: '1.5rem', height: '200px', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center' }}>{t(\"landing.noresults\")}</div>}\n                </Row>\n\n                {loading && <Spinner />}\n                {CurrentPage < totalPages && !loading && (\n                    <div style={{ display: 'flex', justifyContent: 'center' }}>\n                        <div ref={buttonRef} className=\"loadMore\" onClick={loadMoreMovies}>{t('landing.loadmore')}</div>\n                    </div>\n                )}\n\n\n\n            </div>\n        </div>\n    )\n}\n\nexport default GenresPage;","import { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { API_URL, API_KEY } from '../../../Config'\n\nexport const useFetchByGenre = (genreId) => {\n    const [state, setState] = useState({ Movies: [] });\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(false);\n\n    const history = useHistory();\n\n    const fetchMoviesByGenre = async endpoint => {\n        setError(false);\n        setLoading(true);\n    \n        const isLoadMore = endpoint.search('page');\n    \n        try {\n          const result = await (await fetch(endpoint)).json();\n          if (result.results.length === 0) {\n            history.goBack();\n          }\n          const randomIndex = Math.floor(Math.random() * 20)\n          setState(prev => ({\n            ...prev,\n            Movies:\n              isLoadMore !== -1\n                ? [...prev.Movies, ...result.results]\n                : [...result.results],\n                MainMovieImage : prev.MainMovieImage || result.results[randomIndex],\n                CurrentPage: result.page,\n                totalPages: result.total_pages,\n          }));\n  \n        } catch (error) {\n          setError(true);\n          console.error(error);\n        }\n        setLoading(false);\n      };\n\n    useEffect(() => {\n      const CurrentLanguage = localStorage.getItem('language');\n      fetchMoviesByGenre(`${API_URL}discover/movie?api_key=${API_KEY}&language=${CurrentLanguage}&with_genres=${genreId}`)\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [genreId]);\n\n    return [{ state, loading, error }, fetchMoviesByGenre]\n  }","import React, { useState } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { loginUser } from \"../../../_actions/user_actions\";\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { Form, Input, Button, Checkbox, Typography } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { useDispatch } from \"react-redux\";\nimport { useTranslation } from 'react-i18next';\n\nconst { Title } = Typography;\n\nfunction LoginPage(props) {\n  const { t } = useTranslation();\n  const dispatch = useDispatch();\n  const rememberMeChecked = localStorage.getItem(\"rememberMe\") ? true : false;\n\n  const [formErrorMessage, setFormErrorMessage] = useState('')\n  const [rememberMe, setRememberMe] = useState(rememberMeChecked)\n\n  const handleRememberMe = () => {\n    setRememberMe(!rememberMe)\n  };\n\n  const initialUsername = localStorage.getItem(\"rememberMe\") ? localStorage.getItem(\"rememberMe\") : '';\n\n  return (\n    <Formik\n      initialValues={{\n        username: initialUsername,\n        password: '',\n      }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string()\n          .min(2, t('login.usernameErr'))\n          .required(t('login.usernameErr2')),\n        password: Yup.string()\n          .min(4, t('login.passwordErr'))\n          .required(t('login.passwordErr2')),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n          let dataToSubmit = {\n            username: values.username,\n            password: values.password\n          };\n\n          dispatch(loginUser(dataToSubmit))\n            .then(response => {\n              if (response.payload.loginSuccess) {\n                window.localStorage.setItem('userId', response.payload.userId);\n                if (rememberMe === true) {\n                  window.localStorage.setItem('rememberMe', values.username);\n                } else {\n                  localStorage.removeItem('rememberMe');\n                }\n                props.history.push(\"/landing\");\n              } else {\n                setFormErrorMessage(t('login.formErr'))\n              }\n            })\n            .catch(err => {\n              setFormErrorMessage(t('login.formErr'))\n              setTimeout(() => {\n                setFormErrorMessage(\"\")\n              }, 3000);\n            });\n          setSubmitting(false);\n        }, 500);\n      }}\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        } = props;\n        return (\n          <section className=\"flexbox\">\n          <div className=\"stretch\">\n          <div className=\"loginbg\">\n            <div className=\"app login\">\n              <Title level={3}>{t('login.login')}</Title>\n              <form onSubmit={handleSubmit} style={{ width: '350px' }}>\n\n                <Form.Item required>\n                  <Input\n                    id=\"username\"\n                    prefix={<UserOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    placeholder={t('login.username')}\n                    type=\"text\"\n                    value={values.username}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.username && touched.username ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.username && touched.username && (\n                    <div className=\"input-feedback\">{errors.username}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required>\n                  <Input\n                    id=\"password\"\n                    prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    placeholder={t('login.password')}\n                    type=\"password\"\n                    autoComplete=\"off\"\n                    value={values.password}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.password && touched.password ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.password && touched.password && (\n                    <div className=\"input-feedback\">{errors.password}</div>\n                  )}\n                </Form.Item>\n\n                {formErrorMessage && (\n                  <label ><p style={{ color: '#ff0000bf', textAlign: 'center', fontSize: '0.8rem', border: '1px solid', padding: '0.5rem', borderRadius: '10px' }}>{formErrorMessage}</p></label>\n                )}\n\n                <Form.Item>\n                  <Checkbox id=\"rememberMe\" onChange={handleRememberMe} checked={rememberMe}>{t('login.remember')}</Checkbox>\n                  <a className=\"login-form-forgot\" href=\"/forgot\" style={{ float: 'right' }}>\n                    {t('login.forgot')}\n                  </a>\n                  <div>\n                    <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" style={{ minWidth: '100%' }} disabled={isSubmitting} onSubmit={handleSubmit}>\n                      {t('login.login')}\n                    </Button>\n                  </div>\n                Or <a href=\"/register\">{t('login.registernow')}</a>\n                </Form.Item>\n\n                <h3>{t('login.connect')}</h3>\n\n                <div className=\"container\" style={{ textAlign: \"center\" }}>\n                <label ><p style={{ color: '#ff0000bf', backgroundColor: 'white', textAlign: 'center', fontSize: '0.85rem', border: '1px solid', padding: '0.5rem', borderRadius: '10px' }}>\n                Welcome to the Live Demo.<br />\n                  You can sign up now or use the following credentials:<br />\n                  <b>Username:</b> test <br />\n                  <b>Password:</b> test</p></label>\n                </div>\n              </form>\n            </div>\n          </div>\n          </div>\n          </section>\n        );\n      }}\n    </Formik>\n  );\n};\n\nexport default withRouter(LoginPage);","import React, { useState } from \"react\";\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { registerUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport { message } from 'antd';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport { useTranslation } from 'react-i18next';\nimport { store } from \"react-notifications-component\";\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n    xs: {\n      span: 24,\n      offset: 0,\n    },\n    sm: {\n      span: 16,\n      offset: 8,\n    },\n  },\n};\n\n\nfunction RegisterPage(props) {\n  const { t } = useTranslation();\n\n  const [image, setImage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [content, setContent] = React.useState(\"\");\n  const imageInputRef = React.useRef();\n  var allowedTypes = [\"jpg\", \"jpeg\", \"png\", \"gif\"];\n\n\n  const uploadImage = e => {\n    e.preventDefault();\n    setContent(e.target.value)\n    const files = e.target.files[0];\n    const cloudName = \"dkyqbngya\";\n    const unsignedUploadPreset = \"f7r0dz2t\";\n    var url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;\n    if (!files || files.length === 0)\n      return;\n    if (files) {\n      var extension = files.name.replace(/.*\\./, '').toLowerCase();\n      if (allowedTypes.indexOf(extension) < 0) {\n        message.error(`${files.type}${t('register.imgFormat')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      if (files.size > 150000) {\n        message.error(`${files.name}${t('register.imgTooLarge')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      else {\n        var fd = new FormData();\n        fd.append(\"file\", files);\n        fd.append(\"upload_preset\", unsignedUploadPreset);\n        setLoading(true);\n        const config = {\n          headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n        };\n        axios.post(url, fd, config)\n          .then(res => {\n            setLoading(false)\n            // console.log(res)\n            var url = res.data.secure_url;\n            // console.log(res.data)\n            var resize = url.split('/');\n            resize.splice(-3, 0, 'w_125,c_scale');\n            var img = new Image();\n            img.src = resize.join('/');\n            setImage(img.src)\n          })\n          .catch((err) => {\n            if (err) {\n              switch (err.response.status) {\n                case 400:\n                  message.error(t('register.imgInvalid'))\n                  break;\n                case 404:\n                  message.error(t('register.imgNotFound'))\n                  break;\n                case 500:\n                  message.error(t('register.imgError'))\n                  break;\n                default:\n                  break;\n              }\n            }\n          })\n      }\n    }\n  }\n\n  const dispatch = useDispatch();\n  return (\n\n    <Formik\n      initialValues={{\n        email: '',\n        firstName: '',\n        lastName: '',\n        username: '',\n        password: '',\n        confirmPassword: '',\n        image: ''\n      }}\n      validationSchema={Yup.object().shape({\n        username: Yup.string()\n          .required(t('register.usernameErr'))\n          .matches(/^[A-Za-z0-9_]{2,20}$/, t('register.usernameRules'))\n          .min(2, t('register.usernameMin'))\n          .max(20, t('register.usernameMax')),\n        firstName: Yup.string()\n          .required(t('register.firstNameErr'))\n          .matches(/^[A-Z]+$/i, t('register.firstNameAlpha'))\n          .min(2, t('register.firstNameMin'))\n          .max(20, t('register.firstNameMax')),\n        lastName: Yup.string()\n          .required(t('register.lastNameErr'))\n          .matches(/^[A-Z]+$/i, t('register.lastNameAlpha'))\n          .min(2, t('register.lastNameMin'))\n          .max(20, t('register.lastNameMax')),\n        email: Yup.string()\n          .email(t('register.emailInvalid'))\n          .required(t('register.emailErr')),\n        password: Yup.string()\n          .min(4, t('register.passwordMin'))\n          .max(15, t('register.passwordMax'))\n          //DECOMMENTER AVANT PUSH FINAL\n          // .matches(\n          //   /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/,\n          //   t('register.passRegex')\n          // )\n          .required(t('register.passwordErr')),\n        confirmPassword: Yup.string()\n          .oneOf([Yup.ref('password'), null], t('register.passwordMatch'))\n          .required(t('register.cpasswordErr')),\n      })}\n      onSubmit={(values, { setSubmitting }) => {\n        setTimeout(() => {\n\n          let dataToSubmit = {\n            email: values.email,\n            password: values.password,\n            username: values.username,\n            firstName: values.firstName,\n            lastName: values.lastName,\n            image: image\n          };\n\n          if (!image || image === '') {\n            message.error(t('register.imageErr'))\n          }\n          else {\n\n            dispatch(registerUser(dataToSubmit)).then(response => {\n              if (response.payload.success) {\n                store.addNotification({\n                  message: t('register.checkEmail'),\n                  insert: \"top\",\n                  type: 'success',\n                  container: \"top-right\",\n                  animationIn: [\"animated\", \"fadeIn\"],\n                  animationOut: [\"animated\", \"fadeOut\"],\n                  dismiss: {\n                    duration: 5000,\n                    onScreen: true\n                  }\n                });\n                props.history.push(\"/login\");\n              } else {\n                alert(response.payload.err);\n              }\n            })\n          }\n          setSubmitting(false);\n        }, 500);\n      }}\n\n    >\n      {props => {\n        const {\n          values,\n          touched,\n          errors,\n          isSubmitting,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        } = props;\n        return (\n          <div className=\"registerbg\">\n            <div className=\"register\">\n              <h1 style={{textAlign: \"center\"}}>{t('register.signup')}</h1>\n              <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit} >\n\n                <Form.Item required label={t('register.username')}>\n                  <Input\n                    id=\"username\"\n                    placeholder={t('register.usernameForm')}\n                    type=\"text\"\n                    autoComplete=\"username\"\n                    value={values.username}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.username && touched.username ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.username && touched.username && (\n                    <div className=\"input-feedback\">{errors.username}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.firstName')}>\n                  <Input\n                    id=\"firstName\"\n                    placeholder={t('register.firstNameForm')}\n                    type=\"text\"\n                    value={values.firstName}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.firstName && touched.firstName ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.firstName && touched.firstName && (\n                    <div className=\"input-feedback\">{errors.firstName}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.lastName')}>\n                  <Input\n                    id=\"lastName\"\n                    placeholder={t('register.lastNameForm')}\n                    type=\"text\"\n                    value={values.lastName}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.lastName && touched.lastName && (\n                    <div className=\"input-feedback\">{errors.lastName}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.email')}>\n                  <Input\n                    id=\"email\"\n                    placeholder={t('register.emailForm')}\n                    type=\"email\"\n                    autoComplete=\"email\"\n                    value={values.email}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.email && touched.email ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.email && touched.email && (\n                    <div className=\"input-feedback\">{errors.email}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.password')} hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                  <Input\n                    id=\"password\"\n                    placeholder={t('register.passwordForm')}\n                    type=\"password\"\n                    autoComplete=\"new-password\"\n                    value={values.password}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.password && touched.password ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.password && touched.password && (\n                    <div className=\"input-feedback\">{errors.password}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.cpassword')} hasFeedback validateStatus={errors.cpassword && touched.cpassword ? \"error\" : 'success'}>\n                  <Input\n                    id=\"confirmPassword\"\n                    placeholder={t('register.cpasswordForm')}\n                    type=\"password\"\n                    autoComplete=\"new-password\"\n                    value={values.confirmPassword}\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    className={\n                      errors.confirmPassword && touched.confirmPassword ? 'text-input error' : 'text-input'\n                    }\n                  />\n                  {errors.confirmPassword && touched.confirmPassword && (\n                    <div className=\"input-feedback\">{errors.confirmPassword}</div>\n                  )}\n                </Form.Item>\n\n                <Form.Item required label={t('register.image')}>\n                  <Input\n                    id=\"image\"\n                    type=\"file\"\n                    name=\"image\"\n                    accept={\"image/*\"}\n                    onChange={uploadImage}\n                    onBlur={handleBlur}\n                    value={content}\n                    ref={imageInputRef}\n                  />\n                  <div name=\"image\" className=\"imagePreview\">\n                  {loading ? <Spinner />: <img src={image} alt=\"\" />}\n                  </div>\n                </Form.Item>\n\n                <Form.Item {...tailFormItemLayout}>\n                  <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                    {t('register.submit')}\n                  </Button>\n                </Form.Item>\n              </Form>\n            </div>\n          </div>\n        );\n      }}\n    </Formik>\n  );\n};\n\n\nexport default RegisterPage","import React from 'react';\nimport { Menu } from 'antd';\nimport { useSelector } from \"react-redux\";\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\n\nconst PopcornIcon = createFromIconfontCN({\n  scriptUrl: '//at.alicdn.com/t/font_1804216_05evm2uwptc9.js',\n});\n\nfunction LeftMenu(props) {\n  const { t } = useTranslation();\n\n  const user = useSelector(state => state.user)\n\n  if (user.userData && !user.userData.isAuth) {\n  return \"\"\n    } else {\n    return (\n      <Menu mode={props.mode}>\n      <Menu.Item key=\"\">\n      <a href=\"/favorite\"><PopcornIcon type=\"icon-popcorn\" style={{fontSize: \"25px\"}}/>{t('navbar.favorites')}</a>\n      </Menu.Item>\n    </Menu>\n    )\n  }\n}\n\nexport default LeftMenu","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useEffect, useState } from 'react'\nimport { Menu } from 'antd';\nimport axios from 'axios';\nimport { USER_SERVER } from '../../../Config';\nimport { LogoutOutlined, LoginOutlined, UserAddOutlined } from '@ant-design/icons';\nimport { withRouter } from 'react-router-dom';\nimport { useSelector } from \"react-redux\";\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    marginLeft: 10, \n    alignItems: 'center',\n  },\n  selectEmpty: {\n    '& .MuiSelect-root': {\n      background: 'white',\n  },\n    marginTop: theme.spacing(2),\n    marginLeft: 10,\n  },\n}));\n\nfunction RightMenu(props) {\n\n  const { t, i18n } = useTranslation();\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n  };\n  let language = i18n.language;\n\n  const classes = useStyles();\n  function onChange(e) {\n    changeLanguage(e.target.value);\n    localStorage.setItem(\"language\", e.target.value);\n  }\n\n  const user = useSelector(state => state.user)\n\n  const logoutHandler = () => {\n    axios.get(`${USER_SERVER}/logout`).then(response => {\n      if (response.status === 200) {\n        props.history.push(\"/login\");\n      } else {\n        alert('Log Out Failed')\n      }\n    });\n  };\n\n  const [Username, setUsername] = useState('');\n  const [mounted, setMounted] = useState(false);\n\n  useEffect(() => {\n    fetchUsername()\n    if (!mounted){\n      setMounted(true);\n  }\n    }, [props, mounted])\n\n  const fetchUsername = () => {\n    axios.get('/api/users/auth')\n      .then(response => {\n        if (response.data) {\n          setUsername(response.data.username)\n        } else {\n          alert('Failed to get Username')\n        }\n      })\n  }\n\n  const GroupIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_5e8qc34kmnl.js',\n  });\n\n  if (user.userData && !user.userData.isAuth) {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"mail\">\n          <a href=\"/login\">{t('navbar.login')}<LoginOutlined style={{padding: \"10px\"}}/></a>\n        </Menu.Item>\n        <Menu.Item key=\"app\">\n          <a href=\"/register\">{t('navbar.register')}<UserAddOutlined style={{padding: \"10px\"}}/></a>\n        </Menu.Item>\n        <React.Fragment>\n        <FormControl className={classes.formControl}>\n          <Select\n            value={language}\n            onChange={onChange}\n            displayEmpty\n            autoWidth\n            disableUnderline\n            IconComponent={() => \"\"}\n            className={classes.selectEmpty}\n            inputProps={{ 'aria-label': 'Without label' }}\n          >\n            <MenuItem value=\"en-US\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483470/united-states-of-america-flag-button-round-xs_xgcefz.png\" alt=\"US Flag\"/></MenuItem>\n            <MenuItem value=\"fr-FR\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483466/france-flag-button-round-icon-64_uqllrc.png\" alt=\"French Flag\" /></MenuItem>\n          </Select>\n        </FormControl>\n        </React.Fragment>\n      </Menu>\n    )\n  } else {\n    return (\n      <Menu mode={props.mode}>\n        <Menu.Item key=\"profile\"><a href=\"/profile\">{t(\"navbar.welcome\")}&nbsp;&nbsp;<span className=\"username\">{Username}</span></a>\n        </Menu.Item>\n        <Menu.Item key=\"users\">\n          <a href=\"/users\"><GroupIcon type=\"icon-group\" style={{fontSize: \"20px\"}}/>{t('navbar.users')}</a>\n        </Menu.Item>\n        <Menu.Item key=\"logout\">\n          <a onClick={logoutHandler}><LogoutOutlined />{t('navbar.logout')}</a>\n        </Menu.Item>\n        <React.Fragment>\n        <FormControl className={classes.formControl}>\n          <Select\n            value={language}\n            onChange={onChange}\n            displayEmpty\n            autoWidth\n            disableUnderline\n            IconComponent={() => \"\"}\n            className={classes.selectEmpty}\n            inputProps={{ 'aria-label': 'Without label' }}\n          >\n            <MenuItem value=\"en-US\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483470/united-states-of-america-flag-button-round-xs_xgcefz.png\" alt=\"US Flag\" /></MenuItem>\n            <MenuItem value=\"fr-FR\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_25/v1585483466/france-flag-button-round-icon-64_uqllrc.png\" alt=\"French Flag\" /></MenuItem>\n          </Select>\n        </FormControl>\n        </React.Fragment>\n      </Menu>\n    )\n  }\n}\n\nexport default withRouter(RightMenu);","import React, { useState } from 'react';\nimport LeftMenu from './Sections/LeftMenu';\nimport RightMenu from './Sections/RightMenu';\nimport { useSelector } from 'react-redux';\nimport { Drawer, Button } from 'antd';\nimport { AlignRightOutlined } from '@ant-design/icons';\nimport './Sections/Navbar.css';\n\nfunction NavBar() {\n  const [visible, setVisible] = useState(false)\n  const user = useSelector(state => state.user)\n\n  const showDrawer = () => {\n    setVisible(true)\n  };\n\n  const onClose = () => {\n    setVisible(false)\n  };\n\n  return (\n    <nav className=\"menu\" style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n      <div className=\"menu__logo\">\n      {user.userData && !user.userData.isAuth ?\n        <a href=\"/\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_200/v1584983552/logo_lqnlwk.png\" alt=\"Logo\" style={{ width: '100%', marginTop: '-5px' }} /></a> \n        : <a href=\"/landing\"><img src=\"https://res.cloudinary.com/dkyqbngya/image/upload/c_scale,w_200/v1584983552/logo_lqnlwk.png\" alt=\"Logo\" style={{ width: '100%', marginTop: '-5px' }} /></a>\n        }\n      </div>\n      <div className=\"menu__container\">\n        <div className=\"menu_left\">\n          <LeftMenu mode=\"horizontal\" />\n        </div>\n        <div className=\"menu_right\">\n          <RightMenu mode=\"horizontal\" />\n        </div>\n        <Button\n          className=\"menu__mobile-button\"\n          type=\"primary\"\n          onClick={showDrawer}\n        >\n          <AlignRightOutlined />\n        </Button>\n        <Drawer\n          title=\"Menu\"\n          placement=\"right\"\n          className=\"menu_drawer\"\n          closable={false}\n          onClose={onClose}\n          visible={visible}\n        >\n          <LeftMenu mode=\"inline\" />\n          <RightMenu mode=\"inline\" />\n        </Drawer>\n      </div>\n    </nav>\n  )\n}\n\nexport default NavBar","import React from 'react'\n\nfunction Footer() {\n    return (\n        <div style={{\n            height: '80px', \n            display: 'flex',\n            flexDirection: 'column', \n            alignItems: 'center',\n            justifyContent: 'center', \n            fontSize:'1rem'\n        }}>\n           <p>&copy; Copyright 2020 - By Sandrine Cao - 42 Project School using ReactJS, NodeJS, Express and MongoDB</p>\n        </div>\n    )\n}\n\nexport default Footer\n","import {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\n    playerWrapper: {\n    position: 'relative',\n    paddingTop: '56.25%' /* Player ratio: 100 / (1280 / 720) */\n    },\n    reactPlayer: {\n        position: 'absolute',\n        top: '0',\n        left: '0'\n    },\n    buttonChooseSource: {\n        color: 'white',\n        borderColor: 'white'\n    },\n    buttonActors: {\n        borderRadius: '10px !important',\n    },\n    loadingSources: {\n        marginRight: '1em',\n        color: 'white',\n    },\n    movieContainer: {\n        paddingTop: 50,\n        paddingBottom: 50,\n    },\n    backdrop: {\n        position: 'absolute',\n        height: '100%',\n        width: '100%',\n        zIndex: -1,\n        '&:after': {\n            position: 'absolute',\n            content: \"''\",\n            display: 'block',\n            top: 0,\n            left: 0,\n            width: '100%',\n            height: '100%',\n            background: 'rgba(30, 47, 60, 0.75)',\n            backgroundImage: 'radial-gradient(circle at 20% 50%, rgba(30, 47, 60, 0.75) 0%, rgba(48, 65, 78, 0.75) 100%)'\n        }\n    },\n    backdropImage: {\n        display: 'block',\n        width: '100%',\n        height: '100%',\n        objectFit: 'cover',\n    },\n    poster: {\n        width: '100%',\n        borderRadius: 10,\n        boxShadow: '0px 3px 20px #0000003b',\n    },\n    releaseDate: {\n        fontSize: '11pt',\n        color: '#dadde2'\n    },\n    vote: {\n        display: 'flex',\n        alignItems: 'center',\n        fontSize: '12pt'\n    },\n    genreList: {\n        listStyle: 'none',\n        padding: 0,\n        display: 'flex',\n        flexWrap: 'wrap',\n    },\n    genre: {\n        cursor: 'pointer',\n        padding: '1px 6px',\n        marginRight: 10,\n        border: '1px solid white',\n        borderRadius: 4,\n        fontSize: '10pt'\n    },\n    subtitle: {\n        marginBottom: 8,\n        fontSize: '13pt',\n        color: 'white'\n    },\n    crewList: {\n        listStyle: 'none',\n        padding: 0,\n    },\n}));\n\nexport default useStyles;","import React, { useEffect, useState } from \"react\";\nimport { Tooltip } from \"antd\";\nimport Axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { LikeTwoTone } from \"@ant-design/icons\";\nimport { DislikeTwoTone } from \"@ant-design/icons\";\nimport { useTranslation } from \"react-i18next\";\n\nfunction LikeDislikes(props) {\n\tconst { t } = useTranslation();\n\tconst user = useSelector(state => state.user);\n\tconst [Likes, setLikes] = useState(0);\n\tconst [Dislikes, setDislikes] = useState(0);\n\n\tlet variable = {};\n\n\tif (props.video) {\n\t\tvariable = { videoId: props.videoId, userId: props.userId };\n\t} else {\n\t\tvariable = { commentId: props.commentId, userId: props.userId };\n\t}\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst getLikes = () => {\n\t\t\tAxios.post(\"/api/like/getLikes\", variable)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.success) {\n\t\t\t\t\t\tmounted && setLikes(response.data.likes.length);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\tgetLikes();\n\t\treturn () => { mounted = false; }\n\t}, [props, variable]);\n\n\tuseEffect(() => {\n\t\tlet mounted = true;\n\t\tconst getDislikes = () => {\n\t\t\tAxios.post(\"/api/like/getDislikes\", variable)\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.data.success) {\n\t\t\t\t\t\tmounted && setDislikes(response.data.dislikes.length);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\tgetDislikes();\n\t\treturn () => { mounted = false; }\n\t}, [props, variable]);\n\n\tconst onLike = () => {\n\t\tif (user.userData && !user.userData.isAuth) {\n\t\t\treturn props.history.push(\"/login\");;\n\t\t}\n\t\tAxios.post(\"/api/like/upLike\", variable)\n\t\t\t.then(response => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tif (response.data.up === true) {\n\t\t\t\t\t\tsetLikes(Likes + 1);\n\t\t\t\t\t\tif (Dislikes !== 0) {\n\t\t\t\t\t\t\tsetDislikes(Dislikes - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetLikes(Likes - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn props.history.push(\"/login\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tconst onDisLike = () => {\n\t\tif (user.userData && !user.userData.isAuth) {\n\t\t\treturn props.history.push(\"/login\");\n\t\t}\n\t\tAxios.post(\"/api/like/upDisLike\", variable)\n\t\t\t.then(response => {\n\t\t\t\tif (response.data.success) {\n\t\t\t\t\tif (response.data.up === true) {\n\t\t\t\t\t\tsetDislikes(Dislikes + 1);\n\t\t\t\t\t\tif (Likes !== 0) {\n\t\t\t\t\t\t\tsetLikes(Likes - 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetDislikes(Dislikes - 1);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treturn props.history.push(\"/login\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<span key=\"comment-basic-like\">\n\t\t\t\t<Tooltip title={t(\"movie.like\")}>\n\t\t\t\t\t<LikeTwoTone\n\t\t\t\t\t\ttwoToneColor=\"#19ba90\"\n\t\t\t\t\t\ttype=\"like\"\n\t\t\t\t\t\tonClick={onLike}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<span style={{ paddingLeft: \"8px\", cursor: \"auto\" }}>{Likes}</span>\n\t\t\t</span>&nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t<span key=\"comment-basic-dislike\">\n\t\t\t\t<Tooltip title={t(\"movie.dislike\")}>\n\t\t\t\t\t<DislikeTwoTone\n\t\t\t\t\t\ttwoToneColor=\"#19ba90\"\n\t\t\t\t\t\ttype=\"dislike\"\n\t\t\t\t\t\tonClick={onDisLike}\n\t\t\t\t\t/>\n\t\t\t\t</Tooltip>\n\t\t\t\t<span style={{ paddingLeft: \"8px\", cursor: \"auto\" }}>{Dislikes}</span>\n\t\t\t</span>\n\t\t</React.Fragment>\n\t);\n}\n\nexport default LikeDislikes;","import React, { useState } from 'react'\nimport { Comment, Avatar, Button, Input, Modal, Card } from 'antd';\nimport Axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport LikeDislikes from './LikeDislikes';\nimport { useTranslation } from 'react-i18next';\nimport { message } from 'antd';\nimport moment from 'moment';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst { Meta } = Card;\n\nconst SendIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_o2mk1ztsiol.js',\n});\n\nconst { TextArea } = Input;\n\nfunction SingleComment(props) {\n    const { t } = useTranslation();\n    const user = useSelector(state => state.user);\n    const [CommentValue, setCommentValue] = useState(\"\")\n    const [OpenReply, setOpenReply] = useState(false)\n\n    const handleChange = (e) => {\n        setCommentValue(e.currentTarget.value)\n    }\n\n    const openReply = () => {\n        setOpenReply(!OpenReply)\n    }\n\n    function convertHtmlToText(str) {\n        str = str.toString();\n        return str.replace(/<[^>]*(>|$)|&nbsp;|&zwnj;|&raquo;|&laquo;|&gt;/g, '');\n    }\n\n    const onSubmit = (e) => {\n        e.preventDefault();\n\n        if (!CommentValue) {\n            return message.error(t('movie.replyEmptyCom'));\n        }\n        // else if (CommentValue.length >= 10) {\n        //     return message.error(\"Message too long\");\n        // }\n\n        let date = new Date();\n\n        const variables = {\n            writer: user.userData._id,\n            postId: props.postId,\n            date: date,\n            responseTo: props.comment._id,\n            content: convertHtmlToText(CommentValue)\n        }\n\n\n        Axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                if (response.data.success) {\n                    setCommentValue(\"\")\n                    setOpenReply(!OpenReply)\n                    props.refreshFunction(response.data.result)\n                } else {\n                    message.error(t('movie.failCom'))\n                }\n            })\n    }\n\n    const actions = [\n        <LikeDislikes comment commentId={props.comment._id} userId={localStorage.getItem('userId')} />,\n        <span onClick={openReply} key=\"comment-basic-reply-to\">{t('movie.reply')}</span>\n    ]\n\n    const [visible, setVisible] = useState(false);\n\n    const showModal = () => {\n        setVisible(true);\n    }\n\n    const handleCancel = () => {\n        setVisible(false);\n    }\n\n    return (\n        <div>\n            <Comment\n                actions={actions}\n                author={props.comment.writer && props.comment.writer.username ? <b onClick={showModal} style={{ cursor: \"pointer\" }}>{props.comment.writer.username}</b> : t(\"movie.userDeleted\")}\n                avatar={\n                    <Avatar onClick={showModal}\n                        src={props.comment.writer && props.comment.writer.image ? props.comment.writer.image : t(\"landing.notAvail\")}\n                        alt=\"image\"\n                    />\n                }\n                datetime={moment(props.comment.date).format(\"DD/MM/YYYY - HH:mm\")}\n                content={\n                    <p>\n                        {props.comment.content}\n                    </p>\n                }\n            ></Comment>\n            {props.comment.writer ?\n                <Modal\n                    title={`${t('users.profileTitle')} - ${props.comment.writer.username}`}\n                    visible={visible}\n                    onCancel={handleCancel}\n                    width={610}\n                    style={{ top: 20 }}\n                    footer={[\n                        <Button type=\"primary\" key=\"Close\" onClick={handleCancel}>\n                            {t(\"movieInfo.close\")}\n                        </Button>\n                    ]}\n                >\n                    <Card\n                        hoverable\n                        style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                        cover={<Avatar src={props.comment.writer.image} size={84} />}\n                    >\n                        <Meta title={<b>{props.comment.writer.username}</b>} />\n                        <br />\n                        <span>{props.comment.writer.firstName} {props.comment.writer.lastName}</span>\n                    </Card>\n                </Modal>\n                : null\n            }\n\n            {OpenReply &&\n                <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                    <TextArea\n                        style={{ width: '100%', borderRadius: '5px' }}\n                        onChange={handleChange}\n                        value={CommentValue}\n                        placeholder={t('movie.comReply')}\n                    />\n                    <br />\n                    <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}><SendIcon type=\"icon-send\" style={{ fontSize: \"20px\" }} /></Button>\n                </form>\n            }\n\n        </div>\n    )\n}\n\nexport default SingleComment\n","import React, { useEffect, useState } from 'react'\nimport SingleComment from './SingleComment';\nimport { useTranslation } from 'react-i18next';\n\nfunction ReplyComment(props) {\n    \n    const { t } = useTranslation();\n    const [ChildCommentNumber, setChildCommentNumber] = useState(0)\n    const [OpenReplyComments, setOpenReplyComments] = useState(false)\n    useEffect(() => {\n\n        let commentNumber = 0;\n        // props.CommentLists.map((comment) => {\n        props.CommentLists.forEach((comment) => {\n\n            if (comment.responseTo === props.parentCommentId) {\n                commentNumber++\n            }\n        })\n        setChildCommentNumber(commentNumber)\n    }, [props.CommentLists, props.parentCommentId])\n\n\n    let renderReplyComment = (parentCommentId) =>\n        props.CommentLists.map((comment, index) => (\n            <React.Fragment key={comment._id}> \n                {comment.responseTo === parentCommentId &&\n                    <div style={{ width: '80%', marginLeft: '40px' }}>\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                        <ReplyComment CommentLists={props.CommentLists} parentCommentId={comment._id} postId={props.postId} refreshFunction={props.refreshFunction} />\n                    </div>\n                }\n            </React.Fragment>\n        ))\n\n    const handleChange = () => {\n        setOpenReplyComments(!OpenReplyComments)\n    }\n\n\n    return (\n        <div>\n\n            {ChildCommentNumber > 0 &&\n                <p style={{ fontSize: '14px', margin: 0, color: 'gray' }}\n                    onClick={handleChange} >\n                    {t('movie.view')} {ChildCommentNumber} {t('movie.moreComs')}\n             </p>\n            }\n\n            {OpenReplyComments &&\n                renderReplyComment(props.parentCommentId)\n            }\n\n        </div>\n    )\n}\n\nexport default ReplyComment\n","import React, { useState } from 'react'\nimport { Button, Input, Typography, } from 'antd';\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport SingleComment from './SingleComment';\nimport ReplyComment from './ReplyComment';\nimport { useTranslation } from 'react-i18next';\nimport { message } from 'antd';\nimport { CommentOutlined } from '@ant-design/icons';\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst SendIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_o2mk1ztsiol.js',\n  });\nconst { TextArea } = Input;\nconst { Title } = Typography;\n\nfunction Comments(props) {\n    const { t } = useTranslation();\n    const user = useSelector(state => state.user)\n    const [Comment, setComment] = useState(\"\")\n\n    const handleChange = (e) => {\n        setComment(e.currentTarget.value)\n    }\n\n    function convertHtmlToText(str) {\n        str = str.toString();\n        return str.replace(/<[^>]*(>|$)|&nbsp;|&zwnj;|&raquo;|&laquo;|&gt;/g, '');\n    }\n\n    const onSubmit = (e) => {\n\n        e.preventDefault();\n\n        if (user.userData && !user.userData.isAuth) {\n            return message.error(t('movie.loginFirst'));\n        }\n        else if (!Comment) {\n            return message.error(t('movie.emptyCom'));\n        }\n        const variables = {\n            content: convertHtmlToText(Comment),\n            writer: user.userData._id,\n            postId: props.postId,\n        }\n        // console.log(variables)\n\n        axios.post('/api/comment/saveComment', variables)\n            .then(response => {\n                // console.log(\"ASJKDHALSHDASJDHAKLSJLASHDLASHDLASHDA\")\n                if (response.data.success) {\n                    setComment(\"\")\n                    props.refreshFunction(response.data.result)\n                } else {\n                    message.error(t('movie.failCom'))\n                }\n            })\n    }\n\n    return (\n        <div>\n            <br />\n            <Title level={3}><CommentOutlined style={{paddingRight: \"10px\", fontSize: \"30px\"}}/>{t('movie.share')} {props.movieTitle} </Title>\n            <hr />\n            {/* Comment Lists  */}\n            {/* {console.log(props.CommentLists)} */}\n\n            {props.CommentLists && props.CommentLists.map((comment, index) => (\n                (!comment.responseTo &&\n                    <React.Fragment key={comment._id}>\n                        <SingleComment comment={comment} postId={props.postId} refreshFunction={props.refreshFunction} />\n                        <ReplyComment CommentLists={props.CommentLists} postId={props.postId} parentCommentId={comment._id} refreshFunction={props.refreshFunction} />\n                    </React.Fragment>\n                )\n            ))}\n\n            {props.CommentLists && props.CommentLists.length === 0 &&\n                <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px' }} >\n                    {t('movie.comFirst')}\n                </div>\n            }\n\n            {/* Root Comment Form */}\n            <form style={{ display: 'flex' }} onSubmit={onSubmit}>\n                <TextArea\n                    style={{ width: '100%', borderRadius: '5px' }}\n                    onChange={handleChange}\n                    value={Comment}\n                    placeholder={t('movie.comText')}\n                />\n                <br />\n                <Button style={{ width: '20%', height: '52px' }} onClick={onSubmit}><SendIcon type=\"icon-send\" style={{fontSize: \"20px\"}}/></Button>\n            </form>\n\n        </div>\n    )\n}\n\nexport default Comments\n","import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { Button } from 'antd';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst PopcornIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_05evm2uwptc9.js',\n});\n\nconst PopcornColorIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_c1v18kzse7b.js',\n});\n\nfunction Favorite(props) {\n    const { t } = useTranslation();\n    const history = useHistory();\n    const user = useSelector(state => state.user)\n\n    const movieId = props.movieId\n    const userFrom = props.userFrom\n    const movieTitle = props.movieInfo.title\n    const moviePost = props.movieInfo.backdrop_path\n    const movieRunTime = props.movieInfo.runtime\n\n    const [FavoriteNumber, setFavoriteNumber] = useState(0)\n    const [Favorited, setFavorited] = useState(false)\n    const variables = {\n        movieId: movieId,\n        userFrom: userFrom,\n        movieTitle: movieTitle,\n        moviePost: moviePost,\n        movieRunTime: movieRunTime\n    }\n\n    const onClickFavorite = () => {\n\n        if (user.userData && !user.userData.isAuth) {\n            return history.push(\"/\");\n        }\n\n        if (Favorited) {\n            //when we are already subscribed \n            axios.post('/api/favorite/removeFromFavorite', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        setFavoriteNumber(FavoriteNumber - 1)\n                        setFavorited(!Favorited)\n                    } else {\n                        history.push(\"/\");\n                    }\n                })\n\n        } else {\n            // when we are not subscribed yet\n\n            axios.post('/api/favorite/addToFavorite', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        setFavoriteNumber(FavoriteNumber + 1)\n                        setFavorited(!Favorited)\n                    } else {\n                        history.push(\"/\");\n                    }\n                })\n        }\n    }\n\n    useEffect(() => {\n        let mounted = true;\n        const fetchFavoriteNumber = () => {\n            axios.post('/api/favorite/favoriteNumber', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        mounted && setFavoriteNumber(response.data.subscribeNumber)\n                    } else {\n                        history.push(\"/\");\n                    }\n                })\n                .catch((\n                    error => { console.log(error) }\n                ))\n        }\n        fetchFavoriteNumber();\n        return () => { mounted = false; }\n    }, [props, history, variables])\n\n    useEffect(() => {\n        let mounted = true;\n        const fetchFavorited = () => {\n            axios.post('/api/favorite/favorited', variables)\n                .then(response => {\n                    if (response.data.success) {\n                        mounted && setFavorited(response.data.subcribed)\n                    } else {\n                        history.push(\"/\");\n                    }\n                })\n        }\n        fetchFavorited();\n        return () => {mounted = false;}\n    }, [props, variables, history])\n\n    return (\n        <>\n            <Button type=\"primary\" onClick={onClickFavorite}>\n                {!Favorited ? t('favorites.add') : t('favorites.remove')}{!Favorited ? <PopcornIcon type=\"icon-popcorn\" style={{ fontSize: \"20px\" }} />\n                    : <PopcornColorIcon type=\"icon-popcorn1\" style={{ fontSize: \"20px\" }} />}{FavoriteNumber}\n            </Button>\n        </>\n    )\n}\n\nexport default Favorite\n\n","import React, { useState } from 'react'\nimport { IMAGE_BASE_URL, IMAGE_SIZE, POSTER_SIZE } from '../../../Config'\nimport moment from 'moment';\nimport numeral from 'numeral';\nimport { useTranslation } from 'react-i18next';\nimport { createFromIconfontCN, YoutubeOutlined} from '@ant-design/icons';\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useStyles from '../style';\nimport { Badge, Modal, Button } from 'antd';\nimport Favorite from '../Sections/Favorite';\nimport { Link } from 'react-router-dom';\n\nfunction MovieInfo(props) {\n\n  const [visible, setVisible] = useState(false);\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const calcTime = (time) => {\n    const hours = Math.floor(time / 60);\n    let mins = time % 60;\n    if (mins < 10) { mins = \"0\" + mins; }\n    return `${hours}h ${mins}min`;\n  }\n\n  const { movie, directors, cast, trailer } = props;\n\n  const VoteColors = {\n    UNKNOWN: '#999',\n    BAD: '#cd5c5c',\n    OK: '#ffa500',\n    EXCELLENT: '#52c41a'\n  }\n\n  function getScoreColor(score) {\n    let color = VoteColors.EXCELLENT\n    if (!score || movie.vote_average === 0) color = VoteColors.UNKNOWN\n    else if (score < 5.5) color = VoteColors.BAD\n    else if (score < 7) color = VoteColors.OK\n\n    return color\n  }\n\n  const BadgeColor = getScoreColor(movie.vote_average)\n\n  const overviewLength = 700;\n\n  const MovieInfoIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_3easwvxbvnh.js',\n  });\n\n\n  var videoArray = [];\n  var embedLink = '';\n  if (trailer.length > 0) {\n    var i;\n    for (i = 0; i < trailer.length; i++) {\n      if (trailer[i].type === 'Trailer') {\n        videoArray.push(trailer[i].key);\n      }\n    }\n    if (videoArray.length > 0) {\n      embedLink = 'https://www.youtube.com/embed/' + videoArray[0] + '?&autoplay=1';\n    }\n  }\n\n  const showModal = () => {\n    setVisible(true);\n  }\n\n  const handleCancel = () => {\n    setVisible(false);\n  }\n\n  const stopVideo = 'https://www.youtube.com/embed/' + videoArray[0] + '?&autoplay=0';\n  const youtubeLink = visible ? embedLink : stopVideo;\n\n  return (\n    <main style={{ position: 'relative' }}>\n      <div className={classes.backdrop}>\n        <img className={classes.backdropImage} src={movie.backdrop_path ? `${IMAGE_BASE_URL}${IMAGE_SIZE}${movie.backdrop_path}` : \"https://res.cloudinary.com/dkyqbngya/image/upload/v1586787757/detykqycj7ejezsjmxln.png\"} alt=\"\" />\n      </div>\n      <Container className={classes.movieContainer}>\n        <Grid container spacing={7}>\n          <Grid item md={3}>\n            <img className={classes.poster} src={movie.poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}` : t('landing.notAvail')} alt={\"Poster of \" + movie.title} />\n          </Grid>\n          <Grid item md={8} style={{ color: 'white' }}>\n            <div className={classes.releaseDate}>\n              <h2 style={{ color: \"white\" }}>{movie.release_date\n                ? moment(new Date(movie.release_date)).format('YYYY') : 'N/A'}\n              </h2>\n            </div>\n            <Typography variant={\"h4\"} style={{ fontWeight: 'bold', color: 'white' }} component={\"h1\"}>\n              <MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"30px\", paddingRight: \"10px\" }} />{movie.title}\n            </Typography>\n            {movie.genres.length ?\n              <ul className={classes.genreList}>\n                {movie.genres.map((element, iterator) => {\n                  return <Link to={{ pathname: `/landing/genre/${element.name}/${element.id}` }} key={iterator}><li className={classes.genre} key={element.id}>{element.name}</li></Link>\n                })}\n              </ul>\n              :\n              null\n            }\n\n            <div className={classes.vote}>\n              <span style={{ margin: '2px 0px 0 6px' }}>\n                <Badge\n                  style={{ backgroundColor: BadgeColor, marginRight: 16 }}\n                  offset={[0, 0]}\n                  count={movie.vote_average}>\n                </Badge>\n                <Favorite movieInfo={movie} movieId={movie.id} userFrom={localStorage.getItem('userId')} />\n              \n              \n                {\n              trailer ?\n                <>\n                  <Button type=\"primary\" style={{margin: \"15px\"}} onClick={showModal}>\n                  <YoutubeOutlined style={{fontSize: \"20px\"}}/> {t(\"movieInfo.trailer\")}\n                        </Button>\n                  <Modal\n                    title={`${t('movieInfo.trailerTitle')} ${movie.title} ${t('movieInfo.watchHyper')}`}\n                    visible={visible}\n                    onCancel={handleCancel}\n                    width={610}\n                    style={{ top: 20 }}\n                    footer={[\n                      <Button type=\"primary\" key=\"Close\" onClick={handleCancel}>\n                        {t(\"movieInfo.close\")}\n                      </Button>\n                    ]}\n                  >\n                    <div className=\"iframe-container\">\n                    <iframe\n                      title={movie.title}\n                      width=\"560\"\n                      height=\"315\"\n                      src={youtubeLink}\n                      frameBorder=\"0\"\n                      allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                      allowFullScreen>\n                    </iframe>\n                    </div>\n                  </Modal>\n                </>\n                :\n                null\n            }\n              \n              \n              </span>\n            </div>\n            <div style={{ marginTop: 10, marginBottom: 10 }}>\n              <Typography component={\"div\"} style={{ marginRight: 15 }}>\n                <b>{t('movieInfo.runtime')}</b> {movie.runtime ? calcTime(movie.runtime) : 'N/A'}\n              </Typography>\n              <Typography component={\"div\"}>\n                <b>{t('movieInfo.movietitle')}</b> {movie.original_title}\n              </Typography>\n              <Typography component={\"div\"}>\n              <b>{t('movieInfo.actors')}</b> {cast.map((element) => {\n                  return element.name;\n                }).slice(0, 5).join(\", \")}\n                <br />\n                <b>{t('movieInfo.director')}</b> {directors.map((element) => {\n                  return element.name;\n                }).join(\", \")}\n                <br />\n                <b>{t('movieInfo.prod')}</b> {movie.production_companies.map(function (company) {\n                  return company.name;\n                }).shift()}\n              </Typography>\n            </div>\n            {movie.overview && <React.Fragment>\n              <h4 className={classes.subtitle}>{t('movieInfo.overview')}</h4>\n              <Typography variant={\"body1\"}>{movie.overview && movie.overview.length > overviewLength ? movie.overview.substring(0, overviewLength) + \"...\" : movie.overview}</Typography>\n            </React.Fragment>}\n            <div style={{ marginTop: 20 }}>\n              <Typography component={\"div\"}>\n                <b>{t('movieInfo.budget')}</b> {movie.budget ? numeral(movie.budget).format('0,0[.]00 $') : 'N/A'}\n              </Typography>\n              <Typography component={\"div\"}>\n                <b>{t('movieInfo.revenue')}</b> {movie.revenue ? numeral(movie.revenue).format('0,0[.]00 $') : 'N/A'}\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n      </Container>\n    </main>\n  )\n}\n\nexport default MovieInfo\n","import React from 'react';\nimport { API_KEY, CurrentLanguage , IMAGE_BASE_URL, POSTER_SIZE} from '../../../Config'\nimport { withTranslation } from 'react-i18next';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { Typography, Row } from 'antd';\nimport GridCard from '../../../commons/GridCards'\n\nconst { Title } = Typography;\n\nconst MovieIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_cpuj79al49d.js',\n});\n\nclass RecommendedMovies extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: ''\n        }\n\n        if (props.type === 'Recommended Movies') {\n            fetch('https://api.themoviedb.org/3/movie/' + this.props.urlParams + '/recommendations?api_key=' + API_KEY + '&language=' + CurrentLanguage)\n                .then(res => res.json())\n                .then(res => {\n                    this.setState({ data: res.results });\n                })\n                .catch(error => console.error('Error:', error))\n        }\n    }\n\n    render() {\n        const { t } = this.props\n        // if (!this.state.data) return \"\";\n        if (this.state.data === '') return ('');\n        else {\n            let data_arr = [];\n            for (let i in this.state.data.slice(0, 5)) {\n                if (this.state.data[i].vote_count > 2300 && this.state.data[i].backdrop_path !== null && this.state.data[i].overview !== null)\n\n                    data_arr.push(\n                        <React.Fragment key={i}>\n                        <GridCard movie\n                        className=\"similar_movies\"\n                            image={ this.state.data[i].poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${ this.state.data[i].poster_path}` : t('landing.notAvail')}\n                            movieId={ this.state.data[i].id}\n                            movieName={ this.state.data[i].title}\n                            date={ this.state.data[i].release_date}\n                            vote={ this.state.data[i].vote_average ?  this.state.data[i].vote_average : 'N/A'}\n                        />\n                        </React.Fragment>\n                    )\n            }\n\n            return (\n                <div>\n                    <Title level={3}><MovieIcon type=\"icon-movie\" style={{ fontSize: \"35px\", paddingRight: \"10px\" }} />{t('movie.recommended')}</Title>\n                    <hr />\n                    <br />\n                    <Row gutter={[16, 16]}>\n                        {this.state.data.length === 0 ? \n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px' }}>\n                            {t(\"movie.recoNone\")}\n                            </div> : data_arr}\n                    </Row>\n                </div>\n            )\n        }\n    }\n}\n\nexport default withTranslation()(RecommendedMovies);","import React from 'react';\nimport { API_KEY, CurrentLanguage , IMAGE_BASE_URL, POSTER_SIZE} from '../../../Config'\nimport { withTranslation } from 'react-i18next';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { Typography, Row } from 'antd';\nimport GridCard from '../../../commons/GridCards'\n\nconst { Title } = Typography;\n\nconst MovieIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_cpuj79al49d.js',\n});\n\nclass SimilarMovies extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            data: ''\n        }\n\n        if (props.type === 'Similar Movies') {\n            fetch('https://api.themoviedb.org/3/movie/' + this.props.urlParams + '/similar?api_key=' + API_KEY + '&language=' + CurrentLanguage)\n                .then(res => res.json())\n                .then(res => {\n                    this.setState({ data: res.results });\n                })\n                .catch(error => console.error('Error:', error))\n        }\n    }\n\n    render() {\n        const { t } = this.props\n        if (!this.state.data) return \"\";\n        if (this.state.data === '') return ('');\n        else {\n            let data_arr = [];\n            for (let i in this.state.data.slice(0, 5)) {\n                if (this.state.data[i].vote_count > 2300 && this.state.data[i].backdrop_path !== null && this.state.data[i].overview !== null)\n\n                    data_arr.push(\n                        <React.Fragment key={i}>\n                        <GridCard movie\n                        className=\"similar_movies\"\n                            image={ this.state.data[i].poster_path ? `${IMAGE_BASE_URL}${POSTER_SIZE}${ this.state.data[i].poster_path}` : t('landing.notAvail')}\n                            movieId={ this.state.data[i].id}\n                            movieName={ this.state.data[i].title}\n                            date={ this.state.data[i].release_date}\n                            vote={ this.state.data[i].vote_average ?  this.state.data[i].vote_average : 'N/A'}\n                        />\n                        </React.Fragment>\n                    )\n            }\n\n            return (\n                <div>\n                    <Title level={3}><MovieIcon type=\"icon-movie\" style={{ fontSize: \"35px\", paddingRight: \"10px\" }} />{t('movie.similar')}</Title>\n                    <hr />\n                    <br />\n                    <Row gutter={[16, 16]}>\n                        {this.state.data.length === 0 ? \n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100px' }}>\n                            {t(\"movie.similarNone\")}\n                            </div> : data_arr }\n                    </Row>\n                </div>\n            )\n        }\n    }\n}\n\nexport default withTranslation()(SimilarMovies);","import React, { useEffect, useState } from 'react'\nimport { message, Typography } from 'antd';\nimport { Row } from 'antd';\nimport useStyles from './style';\nimport axios from 'axios';\nimport Comments from './Sections/Comments'\nimport LikeDislikes from './Sections/LikeDislikes';\nimport { API_URL, API_KEY } from '../../Config'\nimport GridCards from '../../commons/GridCards';\nimport MovieInfo from './Sections/MovieInfo';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport RecommendedMovies from './Sections/Recommended';\nimport SimilarMovies from './Sections/Similar';\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { Button } from '@material-ui/core';\n\nfunction MovieDetailPage(props) {\n    const classes = useStyles();\n    const { t } = useTranslation();\n    const CurrentLanguage = localStorage.getItem('language')\n    const { Title } = Typography;\n    const movieId = props.match.params.movieId\n    const [Movie, setMovie] = useState([])\n    const [Directors, setDirectors] = useState([])\n    const [Trailer, setTrailer] = useState([])\n    const [Casts, setCasts] = useState([])\n    const [CommentLists, setCommentLists] = useState([])\n    const [LoadingForMovie, setLoadingForMovie] = useState(true)\n    const [LoadingForCasts, setLoadingForCasts] = useState(true)\n    const [ActorToggle, setActorToggle] = useState(false)\n\n    const StreamTitleIcon = createFromIconfontCN({\n        scriptUrl: '//at.alicdn.com/t/font_1804216_vq7xtyn73yj.js',\n    });\n    const postId = props.match.params.movieId;\n    // const { movie } = props;\n\n    let variable = {\n        postId: postId\n    }\n\n    const user = useSelector(state => state.user)\n\n    var videoArray = [];\n    var embedLink = '';\n    if (Trailer.length > 0) {\n      var i;\n      for (i = 0; i < Trailer.length; i++) {\n        if (Trailer[i].type === 'Trailer') {\n          videoArray.push(Trailer[i].key);\n        }\n      }\n      if (videoArray.length > 0) {\n        embedLink = 'https://www.youtube.com/embed/' + videoArray[0];\n      }\n    }\n\n    useEffect(() => {\n        // new endpoint not based on most popular like landing page but movie id\n        let _mounted = true;\n        const fetchDetailInfo = (endpoint) => {\n\n            fetch(endpoint)\n                .then(result => result.json())\n                .then(result => {\n                    if (result.status_code) {\n                        _mounted && setLoadingForMovie(true);\n                        message.error(t(\"landing.nomovie\"));\n                        props.history.push(\"/landing\");\n                    } else {\n                        _mounted && setMovie(result)\n                        _mounted && setLoadingForMovie(false)\n\n                        let endpointForCasts = `${API_URL}movie/${movieId}/credits?api_key=${API_KEY}`;\n                        let endpointTrailer = `${API_URL}movie/${movieId}/videos?api_key=${API_KEY}&language=${CurrentLanguage}`;\n                        fetch(endpointForCasts)\n                            .then(result => result.json())\n                            .then(result => {\n                                _mounted && setCasts(result.cast);\n                                const Directors = result.crew.filter((member) => member.job === \"Director\");\n                                _mounted && setDirectors(Directors);\n                            })\n                        setLoadingForCasts(false)\n                        fetch(endpointTrailer)\n                            .then(result => result.json())\n                            .then(result => {\n                                _mounted && setTrailer(result.results);\n                            })\n                    }\n                })\n                .catch(error => console.error('Error:', error)\n                )\n        }\n        // console.log(movieSources)\n\n        let endpointForMovieInfo = `${API_URL}movie/${movieId}?api_key=${API_KEY}&language=${CurrentLanguage}`;\n        fetchDetailInfo(endpointForMovieInfo)\n\n        axios.post('/api/comment/getComments', variable)\n            .then(response => {\n                // console.log(\"get comments \", response)\n                if (response.data.success) {\n                    // console.log('response.data.comments ', response.data.comments)\n                    _mounted && setCommentLists(response.data.comments)\n                } else {\n                    props.history.push(\"/login\");\n                }\n            })\n        return () => { _mounted = false }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [movieId, t, props, CurrentLanguage])\n\n    const toggleActorView = () => {\n        setActorToggle(!ActorToggle)\n    }\n\n    const updateComment = (newComment) => {\n        setCommentLists(CommentLists.concat(newComment))\n    }\n\n    return (\n        <div>\n            {user.userData && user.userData.isAuth ?\n                <>\n                    {/* Movie Info */}\n                    {!LoadingForMovie && Trailer ?\n                        <MovieInfo movie={Movie} directors={Directors} cast={Casts} trailer={Trailer} />\n                        :\n                        <div><Spinner /></div>\n                    }\n\n\n                    {/* Body */}\n                    <div style={{ width: '85%', margin: '1rem auto' }}>\n\n                        {/* Actors Grid*/}\n\n                        {!LoadingForMovie ?\n                            <div style={{ display: 'flex', justifyContent: 'center', margin: '2rem' }}>\n                                <Button variant=\"contained\" className={classes.buttonActors} onClick={toggleActorView}>{ActorToggle ? t('movie.dontShowActors') : t('movie.showActors')}</Button>\n                            </div>\n                            :\n                            null\n                        }\n                        {ActorToggle &&\n                            <Row gutter={[16, 16]}>\n                                {\n                                    !LoadingForCasts ? Casts.map((cast, index) => (\n                                        cast.profile_path &&\n                                        <React.Fragment key={cast.id}>\n                                            <GridCards actor image={cast.profile_path} actorName={cast.name} charName={cast.character} />\n                                        </React.Fragment>\n                                    )) :\n                                        <div><Spinner /></div>\n                                }\n                            </Row>\n                        }\n                        <br />\n\n\n                        {/* Stream */}\n\n                        <Title level={3}>\n                            <StreamTitleIcon type=\"icon-movie2\" style={{ fontSize: \"28px\", paddingRight: \"10px\" }} />{t('movie.streamTitle')} {Movie.title}</Title>\n                        <hr />\n                        <br />\n                        <label ><p style={{ color: '#ff0000bf', textAlign: 'center', fontSize: '1rem', border: '1px solid', padding: '0.5rem', borderRadius: '10px' }}>\n                  For legal reasons - this demo only allows you to watch the associated Youtube trailer.\n                  </p></label>\n                        <div style={{ display: 'flex', justifyContent: 'center', margin: '2rem' }}>\n                        <div className=\"iframe-container\">\n                    <iframe\n                      title={Movie.title}\n                      width=\"560\"\n                      height=\"315\"\n                      src={embedLink}\n                      frameBorder=\"0\"\n                      allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                      allowFullScreen>\n                    </iframe>\n                    </div>\n                        </div>\n                    \n                        <div style={{ display: 'flex', justifyContent: 'center' }}>\n                            <LikeDislikes video videoId={movieId} userId={localStorage.getItem('userId')} />\n                        </div>\n\n                        {/* Comments */}\n                        <Comments movieTitle={Movie.title} CommentLists={CommentLists} postId={postId} refreshFunction={updateComment} />\n\n                        <br />\n                        {/* Recommended Movies */}\n                        {!LoadingForMovie ?\n                            <div><RecommendedMovies type=\"Recommended Movies\" urlParams={movieId} /></div>\n                            :\n                            null\n                        }\n                        {/* <br /> */}\n                        {/* Similar Movies */}\n                        {!LoadingForMovie ?\n                            <div><SimilarMovies type=\"Similar Movies\" urlParams={movieId} /></div>\n                            :\n                            null\n                        }\n                    </div>\n                </>\n                : <Spinner />}\n        </div>\n    )\n}\n\nexport default MovieDetailPage\n","import React, { useEffect, useState } from 'react'\nimport { Typography, Popover, Button } from 'antd';\nimport axios from 'axios';\nimport './favorite.css';\nimport { useTranslation } from 'react-i18next';\nimport { ClockCircleOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { IMAGE_BASE_URL, POSTER_SIZE } from '../../Config'\nimport { createFromIconfontCN } from '@ant-design/icons';\nimport { useHistory } from 'react-router-dom';\n\nconst { Title } = Typography;\n\nconst MovieInfoIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_3easwvxbvnh.js',\n});\n\nconst PopcornIcon = createFromIconfontCN({\n    scriptUrl: '//at.alicdn.com/t/font_1804216_05evm2uwptc9.js',\n});\n\nfunction FavoritePage() {\n    const { t } = useTranslation();\n\n    const [Favorites, setFavorites] = useState([])\n    const [Loading, setLoading] = useState(true)\n    const history = useHistory();\n    let variable = { userFrom: localStorage.getItem('userId') }\n\n    const calcTime = (time) => {\n        const hours = Math.floor(time / 60);\n        let mins = time % 60;\n        if (mins < 10) { mins = \"0\" + mins; }\n        return `${hours}h ${mins}min`;\n    }\n\n    useEffect(() => {\n        fetchFavoredMovie()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const fetchFavoredMovie = () => {\n        axios.post('/api/favorite/getFavoredMovie', variable)\n            .then(response => {\n                if (response.data.success) {\n                    // console.log(response.data.favorites)\n                    setFavorites(response.data.favorites)\n                    setLoading(false)\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }\n\n    const onClickDelete = (movieId, userFrom) => {\n\n        const variables = {\n            movieId: movieId,\n            userFrom: userFrom,\n        }\n\n        axios.post('/api/favorite/removeFromFavorite', variables)\n            .then(response => {\n                if (response.data.success) {\n                    fetchFavoredMovie()\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }\n\n    const renderCards = Favorites.map((favorite, index) => {\n\n\n        const content = (\n            <div>\n                {favorite.moviePost ?\n                    <img src={`${IMAGE_BASE_URL}${POSTER_SIZE}${favorite.moviePost}`} alt=\"\" />\n                    : \"no image\"}\n            </div>\n        );\n\n        return <tr key={favorite._id}>\n\n            <Popover content={content} title={`${favorite.movieTitle}`}>\n                <td><MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"20px\", paddingRight: \"10px\" }} /><strong><a style={{ color: \"black\" }} href={`/movie/${favorite.movieId}`}>{favorite.movieTitle}</a></strong></td>\n            </Popover>\n\n            <td><center><ClockCircleOutlined style={{ paddingRight: \"10px\" }} />{calcTime(favorite.movieRunTime)}</center></td>\n            <td><center><Button type=\"primary\" onClick={() => onClickDelete(favorite.movieId, favorite.userFrom)}><DeleteOutlined />{t('favorites.removeButton')}</Button></center></td>\n        </tr>\n    })\n\n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n            <Title level={2}><PopcornIcon type=\"icon-popcorn\" style={{ paddingRight: \"10px\" }} />{t('favorites.title')}</Title>\n            <hr />\n            <br />\n            {!Loading &&\n                <table>\n                    <thead>\n                        <tr>\n                            <th><MovieInfoIcon type=\"icon-movie1\" style={{ fontSize: \"20px\", paddingRight: \"10px\" }} />{t('favorites.movieTitle')}</th>\n                            <th><center><ClockCircleOutlined style={{ paddingRight: \"10px\" }} />{t('favorites.movieRuntime')}</center></th>\n                            <th><center><DeleteOutlined style={{ paddingRight: \"10px\" }} />{t('favorites.remove')}</center></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {renderCards}\n                    </tbody>\n                </table>\n            }\n        </div>\n    )\n}\n\nexport default FavoritePage\n","import React from 'react'\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport * as API from \"../../../_actions/user_actions\";\nimport { useTranslation } from 'react-i18next';\nimport { LockOutlined } from '@ant-design/icons';\nimport { Typography } from 'antd';\nimport { store } from \"react-notifications-component\";\nimport {\n    Form,\n    Input,\n    Button,\n} from 'antd';\n\nconst { Title } = Typography;\n\nconst formItemLayout = {\n    labelCol: {\n        xs: { span: 20 },\n        sm: { span: 8 },\n    },\n    wrapperCol: {\n        xs: { span: 14 },\n        sm: { span: 6 },\n    },\n};\nconst tailFormItemLayout = {\n    wrapperCol: {\n        xs: {\n            span: 20,\n            offset: 0,\n        },\n        sm: {\n            span: 14,\n            offset: 8,\n        },\n    },\n};\n\n\nfunction ResetPass() {\n    const { t } = useTranslation();\n    return (\n        <React.Fragment>\n            <Formik\n                initialValues={{\n                    password: '',\n                }}\n                validationSchema={Yup.object().shape({\n                    password: Yup.string()\n                        .min(4, t('register.passwordMin'))\n                        .max(15, t('register.passwordMax'))\n                        //DECOMMENTER AVANT PUSH FINAL\n                        // .matches(\n                        //   /^(?=.*[A-Za-z])(?=.*\\d)(?=.*[@$!%*#?&])[A-Za-z\\d@$!%*#?&]{6,}$/,\n                        //   t('register.passRegex')\n                        // )\n                        .required(t('register.passwordErr')),\n                    password_confirm: Yup.string()\n                        .oneOf([Yup.ref('password'), null], t('register.passwordMatch'))\n                        .required(t('register.cpasswordErr')),\n                })}\n                onSubmit={(values, { setSubmitting }) => {\n                    setTimeout(() => {\n\n                        API.resetPasswordProfile(values.password, values.password_confirm)\n                            .then(response => {\n                                if (response.status === 200) {\n                                    store.addNotification({\n                                        message: t('editProfile.newpassok'),\n                                        insert: \"top\",\n                                        type: 'success',\n                                        container: \"top-right\",\n                                        animationIn: [\"animated\", \"fadeIn\"],\n                                        animationOut: [\"animated\", \"fadeOut\"],\n                                        dismiss: {\n                                            duration: 5000,\n                                            onScreen: true\n                                        }\n                                    });\n                                } else {\n                                    alert('Password Update Fail')\n                                }\n                            })\n                        setSubmitting(false);\n                    }, 500);\n                }}\n            >\n                {props => {\n                    const {\n                        errors,\n                        values,\n                        touched,\n                        isSubmitting,\n                        handleChange,\n                        handleBlur,\n                        handleSubmit,\n                    } = props;\n                    return (\n                        <div style={{ width: '85%', margin: '3rem auto' }}>\n                        <Title level={2}><LockOutlined style={{ paddingRight: \"10px\" }} />{t(\"editProfile.editPassword\")}</Title>\n                            <hr />\n                            <br />\n                        <Form style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit}>\n                            <Input type=\"text\" name=\"username\" value=\"\" autoComplete=\"username\" style={{ display: 'none' }} />\n                            <Form.Item required label={t('editProfile.newpass')} hasFeedback validateStatus={errors.password && touched.password ? \"error\" : 'success'}>\n                                <Input\n                                    id=\"password\"\n                                    prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                    placeholder={t('register.passwordForm')}\n                                    type=\"password\"\n                                    name=\"password\"\n                                    autoComplete=\"current-password\"\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    value={values.password}\n                                    className={\n                                        errors.password && touched.password ? 'text-input error' : 'text-input'\n                                    }\n                                />\n                                {errors.password && touched.password && (\n                                    <div className=\"input-feedback\">{errors.password}</div>\n                                )}\n                            </Form.Item>\n\n                            <Form.Item required label={t('editProfile.newcpass')} hasFeedback validateStatus={errors.password_confirm && touched.password_confirm ? \"error\" : 'success'}>\n                                <Input\n                                    id=\"password_confirm\"\n                                    prefix={<LockOutlined style={{ color: 'rgba(0,0,0,.25)' }} />}\n                                    placeholder={t('register.cpasswordForm')}\n                                    type=\"password\"\n                                    name=\"password_confirm\"\n                                    autoComplete=\"current-password\"\n                                    value={values.password_confirm}\n                                    onChange={handleChange}\n                                    onBlur={handleBlur}\n                                    className={\n                                        errors.password_confirm && touched.password_confirm ? 'text-input error' : 'text-input'\n                                    }\n                                />\n                                {errors.password_confirm && touched.password_confirm && (\n                                    <div className=\"input-feedback\">{errors.password_confirm}</div>\n                                )}\n                            </Form.Item>\n\n                            <Form.Item {...tailFormItemLayout}>\n                                <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                                    {t('editProfile.updatePass')}\n                                </Button>\n                            </Form.Item>\n                        </Form>\n                        </div>\n                    )\n                }}\n            </Formik>\n        </React.Fragment>\n    )\n}\nexport default ResetPass","import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport { updateUser } from \"../../../_actions/user_actions\";\nimport { useDispatch } from \"react-redux\";\nimport { message, Typography, Avatar } from 'antd';\nimport { useTranslation } from 'react-i18next';\nimport ResetPass from './ResetPass';\nimport { UserOutlined } from '@ant-design/icons';\nimport Spinner from '../LandingPage/Sections/Spinner';\nimport { store } from \"react-notifications-component\";\nimport { useHistory } from 'react-router-dom';\nimport {\n  Form,\n  Input,\n  Button,\n} from 'antd';\n\nconst { Title } = Typography;\n\nconst formItemLayout = {\n  labelCol: {\n      xs: { span: 20 },\n      sm: { span: 8 },\n  },\n  wrapperCol: {\n      xs: { span: 14 },\n      sm: { span: 6 },\n  },\n};\nconst tailFormItemLayout = {\n  wrapperCol: {\n      xs: {\n          span: 20,\n          offset: 0,\n      },\n      sm: {\n          span: 14,\n          offset: 8,\n      },\n  },\n};\n\n\nfunction ProfilePage() {\n  const { t, i18n } = useTranslation();\n  const [loading, setLoading] = useState(false);\n  const [image, setImage] = useState('');\n  const [content, setContent] = React.useState(\"\");\n  const [UserID, setUserID] = useState([]);\n  const imageInputRef = React.useRef();\n  const history = useHistory();\n  var allowedTypes = [\"jpg\", \"jpeg\", \"png\", \"gif\"];\n\n  const changeLanguage = lng => {\n    i18n.changeLanguage(lng);\n  };\n  let language = i18n.language;\n\n  function onChange(e) {\n    changeLanguage(e.target.value);\n    localStorage.setItem(\"language\", e.target.value);\n  }\n\n  useEffect(() => {\n    axios.get('/api/users/:userId')\n      .then(response => {\n        if (response.data.success) {\n          setUserID(response.data.users)\n        } else {\n          history.push(\"/login\");\n        }\n      })\n  }, [history])\n\n  const uploadImage = e => {\n    e.preventDefault();\n    setContent(e.target.value)\n    const files = e.target.files[0];\n    const cloudName = \"dkyqbngya\";\n    const unsignedUploadPreset = \"f7r0dz2t\";\n    var url = `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`;\n    if (!files || files.length === 0)\n      return;\n    if (files) {\n      var extension = files.name.replace(/.*\\./, '').toLowerCase();\n      if (allowedTypes.indexOf(extension) < 0) {\n        message.error(`${files.type}${t('register.imgFormat')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      if (files.size > 150000) {\n        message.error(`${files.name}${t('register.imgTooLarge')}`)\n        imageInputRef.current.value = \"\";\n        setContent(\"\");\n        setImage(\"\"); \n        return;\n      }\n      else {\n        var fd = new FormData();\n        fd.append(\"file\", files);\n        fd.append(\"upload_preset\", unsignedUploadPreset);\n        setLoading(true);\n        const config = {\n          headers: { \"X-Requested-With\": \"XMLHttpRequest\" },\n        };\n        axios.post(url, fd, config)\n          .then(res => {\n            setLoading(false)\n            var url = res.data.secure_url;\n            var resize = url.split('/');\n            resize.splice(-3, 0, 'w_125,c_scale');\n            var img = new Image();\n            img.src = resize.join('/');\n            setImage(img.src)\n          })\n          .catch((err) => {\n            if (err) {\n              switch (err.response.status) {\n                case 400:\n                  message.error(t('register.imgInvalid'))\n                  break;\n                case 404:\n                  message.error(t('register.imgNotFound'))\n                  break;\n                case 500:\n                  message.error(t('register.imgError'))\n                  break;\n                default:\n                  break;\n              }\n            }\n          })\n      }\n    }\n  }\n\n  const dispatch = useDispatch();\n    return (\n    UserID.map((info, index) => (\n      <React.Fragment key={info._id}>\n        <Formik\n          initialValues={{\n            email: info.email,\n            firstName: info.firstName,\n            lastName: info.lastName,\n            username: info.username,\n            image: image,\n            lang: language,\n          }}\n          validationSchema={Yup.object().shape({\n            username: Yup.string()\n              .required(t('register.usernameErr'))\n              .matches(/^[A-Za-z0-9_]{2,20}$/, t('register.usernameRules'))\n              .min(2, t('register.usernameMin'))\n              .max(20, t('register.usernameMax')),\n            firstName: Yup.string()\n              .required(t('register.firstNameErr'))\n              .matches(/^[A-Z]+$/i, t('register.firstNameAlpha'))\n              .min(2, t('register.firstNameMin'))\n              .max(20, t('register.firstNameMax')),\n            lastName: Yup.string()\n              .required(t('register.lastNameErr'))\n              .matches(/^[A-Z]+$/i, t('register.lastNameAlpha'))\n              .min(2, t('register.lastNameMin'))\n              .max(20, t('register.lastNameMax')),\n            email: Yup.string()\n              .email(t('register.emailInvalid'))\n              .required(t('register.emailErr')),\n          })}\n          onSubmit={(info, { setSubmitting }) => {\n            setTimeout(() => {\n\n              let dataToSubmit = {\n                email: info.email,\n                username: info.username,\n                firstName: info.firstName,\n                lastName: info.lastName,\n                image: image,\n                lang: language,\n              };\n\n              dispatch(updateUser(dataToSubmit)).then(response => {\n                if (response.payload.success) {\n                  store.addNotification({\n                    message: t('editProfile.profileUpdated'),\n                    insert: \"top\",\n                    type: 'success',\n                    container: \"top-right\",\n                    animationIn: [\"animated\", \"fadeIn\"],\n                    animationOut: [\"animated\", \"fadeOut\"],\n                    dismiss: {\n                      duration: 5000,\n                      onScreen: true\n                    }\n                  });\n                } else {\n                  alert(response.payload.err)\n                }\n              })\n              setSubmitting(false);\n            }, 500);\n          }}\n        >\n          {props => {\n            const {\n              errors,\n              touched,\n              isSubmitting,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n            } = props;\n            return (\n\n              <div style={{ width: '85%', margin: '3rem auto' }}>\n\n                <Title level={2}><UserOutlined style={{paddingRight: \"10px\"}}/>{t(\"editProfile.title\")}</Title>\n                <hr />\n                <br />\n                <main style={{ position: 'relative' }}>\n                <Form key={info._id} style={{ minWidth: '375px' }} {...formItemLayout} onSubmit={handleSubmit}>\n                  <Form.Item required label={t('editProfile.avatar')}>\n                    <div name=\"image\" className=\"imagePreview\" >\n                    {image ? <Avatar src={image} size={130}/>\n                    : \n                    loading ? <Spinner /> : \n                    <Avatar src={info.image} alt=\"\" size={130}/>}\n                    </div>\n                    <Input\n                      id=\"image\"\n                      type=\"file\"\n                      name=\"image\"\n                      accept=\"image/*\"\n                      ref={imageInputRef} \n                      onChange={uploadImage}\n                      value={content}\n                      onBlur={handleBlur}\n                    />\n                  </Form.Item>\n\n                  <Form.Item required label={t(\"editProfile.prefLang\")}>\n                    <select defaultValue={language} onChange={onChange}>\n                      <option value=\"en-US\">{t(\"navbar.lngEN\")}</option>\n                      <option value=\"fr-FR\">{t(\"navbar.lngFR\")}</option>\n                    </select>\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.username')}>\n                    <Input\n                      id=\"username\"\n                      type=\"text\"\n                      autoComplete=\"username\"\n                      defaultValue={info.username}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.username && touched.username ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.username && touched.username && (\n                      <div className=\"input-feedback\">{errors.username}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.firstName')}>\n                    <Input\n                      id=\"firstName\"\n                      type=\"text\"\n                      defaultValue={info.firstName}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.firstName && touched.firstName ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.firstName && touched.firstName && (\n                      <div className=\"input-feedback\">{errors.firstName}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.lastName')}>\n                    <Input\n                      id=\"lastName\"\n                      type=\"text\"\n                      defaultValue={info.lastName}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.lastName && touched.lastName ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.lastName && touched.lastName && (\n                      <div className=\"input-feedback\">{errors.lastName}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item required label={t('register.email')}>\n                    <Input\n                      id=\"email\"\n                      type=\"email\"\n                      autoComplete=\"email\"\n                      defaultValue={info.email}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      className={\n                        errors.email && touched.email ? 'text-input error' : 'text-input'\n                      }\n                    />\n                    {errors.email && touched.email && (\n                      <div className=\"input-feedback\">{errors.email}</div>\n                    )}\n                  </Form.Item>\n\n                  <Form.Item {...tailFormItemLayout}>\n                    <Button onClick={handleSubmit} type=\"primary\" disabled={isSubmitting}>\n                      {t('editProfile.update')}\n                    </Button>\n                  </Form.Item>\n                </Form>\n                </main>\n              </div>\n            )\n          }}\n        </Formik>\n            <br />\n        <ResetPass />\n      </React.Fragment>\n    ))\n  )\n}\nexport default ProfilePage","import { useState, useEffect } from 'react';\nimport * as API from \"../../../_actions/user_actions\";\nimport {store} from \"react-notifications-component\";\nimport { useTranslation } from 'react-i18next';\n\n\nexport default function ForgotPassword(props) {\n    const [mounted, setMounted] = useState(false);\n    const { t } = useTranslation();\n    useEffect(() => {\n      function activeAccount() {\n           API.activeAccount(props.match.params.tokenConf)\n                .then((res=> {\n                    // console.log(\"res status is : \",res)\n                    if (res.status === 200) {\n                        store.addNotification({\n                            message: t('login.activated'),\n                            insert: \"top\",\n                            type: 'success',\n                            container: \"top-right\",\n                            animationIn: [\"animated\", \"fadeIn\"],\n                            animationOut: [\"animated\", \"fadeOut\"],\n                            dismiss: {\n                                duration: 5000,\n                                onScreen: true\n                            }\n                        });\n                        props.history.push('/login');\n                    }\n                    else{\n                        console.log(\"res status is : \")\n                        store.addNotification({\n                            message: t('login.tokenFail'),\n                            insert: \"top\",\n                            type: 'fail',\n                            container: \"top-right\",\n                            animationIn: [\"animated\", \"fadeIn\"],\n                            animationOut: [\"animated\", \"fadeOut\"],\n                            dismiss: {\n                                duration: 5000,\n                                onScreen: true\n                            }\n                        });\n                    }\n                }))\n                .catch((\n                    error=>{console.log(error)}\n                    ))\n                   \n            props.history.push('/login')\n        }\n        if (!mounted && props && props.match.params && props.match.params.tokenConf){\n            // console.log(\"r1\")\n            activeAccount();\n            setMounted(true);\n        }\n    }, [props, mounted, t]);\n\n    return null;\n}","\nimport React, { useState } from 'react';\nimport { Grow, Typography, TextField, Container, Grid, Link } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as API from \"../../../_actions/user_actions\";\nimport { store } from \"react-notifications-component\";\nimport { useTranslation } from 'react-i18next';\nimport {\n    Button\n} from 'antd';\nconst useStyles = makeStyles(theme => ({\n    loginContainer: {\n        padding: '9em 0 0 0',\n        margin: 'auto',\n    },\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        paddingTop: theme.spacing(5),\n    },\n    login: {\n        marginTop: 'auto',\n        backgroundColor: 'rgba(250, 250, 250, 0.9)',\n        borderRadius: '12px',\n        padding: theme.spacing(3),\n        //  boxShadow: '1px 1px 42px rgba(238, 28, 115,0.2);',\n    },\n    signupButton: {\n        // background: 'linear-gradient(-317deg, #207af4 -25%, #0b1123, #0b1123 70%, #f02678 160% )',\n        margin: theme.spacing(3, 0, 3, 0),\n        borderRadius: '10px !important',\n        color: 'white',\n    },\n    textfield: {\n        '& fieldset': {\n            borderRadius: '10px !important',\n        },\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    }\n}));\n\n\nexport default function ForgotPassword(props) {\n    const classes = useStyles();\n    const [mounted, setMounted] = useState(true);\n    const [validationErrors, setValidationErrors] = React.useState({ err_email: false });\n    const [value, setValue] = React.useState({ email: '' });\n    const { t } = useTranslation();\n\n    function validateEmail(email) {\n        // eslint-disable-next-line\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        return re.test(String(email).toLowerCase());\n    }\n\n    const handleRedirectSignup = (e) => {\n        setMounted(!mounted);\n        e.preventDefault();\n        props.history.push('/register');\n    };\n\n    const handleChange = (event) => {\n        const { err_email } = validationErrors;\n        if (event.target.id === \"email\" && err_email)\n            setValidationErrors({ ...validationErrors, err_email: false });\n        setValue({ ...value, [event.target.id]: event.target.value });\n    };\n\n    const handleMailSend = (e) => {\n        e.preventDefault();\n        if (value && value.email && value.email.length && !validateEmail(value.email)) {\n            setValidationErrors({ err_email: t('reset.resetMailErr') });\n        }\n        else if (validateEmail(value.email) && !validationErrors.err_email) {\n            API.sendResetMail(value.email)\n                .then(res => {\n                    if (res.status === 200)\n                        store.addNotification({\n                            message: t(\"reset.resetMail\"),\n                            insert: \"top\",\n                            type: 'success',\n                            container: \"top-right\",\n                            animationIn: [\"animated\", \"fadeIn\"],\n                            animationOut: [\"animated\", \"fadeOut\"],\n                            dismiss: {\n                                duration: 5000,\n                                onScreen: true\n                            }\n                        });\n                    props.history.push('/login');\n                })\n                .catch(() => { setValidationErrors({ err_email: t('reset.resetMailErr') }) })\n        }\n        else\n            setValidationErrors({ err_mail: t(\"reset.resetMailErr\") });\n    };\n\n    return (\n        <div className=\"loginbg\">\n            <div className={classes.loginContainer}>\n                <Grow in={mounted}>\n                    <Container className={classes.login} component=\"main\" maxWidth=\"xs\">\n                        {/* <CssBaseline /> */}\n                        <div className={classes.paper}>\n                            <Typography component=\"h1\" variant=\"h5\">\n                                {t(\"reset.forgotPassword\")}\n                            </Typography>\n                            <form className={classes.form} onSubmit={handleMailSend} noValidate>\n                                <Grid alignContent=\"center\" alignItems=\"center\" container spacing={2}>\n                                    <Grid item xs={12}>\n                                        <TextField\n                                            variant=\"outlined\"\n                                            required\n                                            fullWidth\n                                            id=\"email\"\n                                            label={t(\"reset.email\")}\n                                            name=\"email\"\n                                            autoComplete=\"email\"\n                                            className={classes.textfield}\n                                            value={value.email || ''}\n                                            error={Boolean(validationErrors.err_email)}\n                                            helperText={validationErrors.err_email}\n                                            onChange={handleChange}\n                                        />\n                                    </Grid>\n                                </Grid>\n                                <Button\n                                    size=\"large\"\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    type=\"primary\"\n                                    className={classes.signupButton}\n                                    onClick={handleMailSend}\n                                >\n                                    {t(\"reset.sendMail\")}\n                                </Button>\n                                <Grid container justify=\"flex-end\">\n                                    <Grid item>\n                                        <Link onClick={handleRedirectSignup} href=\"#\" variant=\"body2\">\n                                            {t(\"reset.account\")}\n                                        </Link>\n                                    </Grid>\n                                </Grid>\n                            </form>\n                        </div>\n                    </Container>\n                </Grow>\n            </div>\n        </div>\n    );\n}","import React from 'react';\nimport {Grow, Typography, TextField, Container, Grid, Input } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as API from \"../../../_actions/user_actions\";\nimport {store} from \"react-notifications-component\";\nimport { useTranslation } from 'react-i18next';\nimport {\n    Button,\n  } from 'antd';\n// Style\nconst useStyles = makeStyles(theme => ({\n    forgotContainer: {\n        padding: '9em 0 0 0',\n        margin: 'auto',\n    },\n    paper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        paddingTop: theme.spacing(5),\n    },\n    login: {\n        marginTop: 'auto',\n        background: 'rgba(250, 250, 250, 0.9)',\n        borderRadius: '12px',\n        padding: theme.spacing(3),\n        \n    },\n    signupButton: {\n        margin: theme.spacing(3, 0, 3, 0),\n        borderRadius: '10px !important',\n        color: 'white',\n    },\n    form: {\n        width: '100%', // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    }\n}));\n\n\nexport default function ResetPassword(props) {\n    const classes = useStyles();\n    const { t } = useTranslation();\n\n    function validatePassword(password) {\n        var re = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n        return re.test(password);\n    }\n\n    const [validationErrors, setValidationErrors] = React.useState({ err_password: false, err_password_confirm : false });\n    const [fieldValue, setTextFieldsValues] = React.useState({ password: '', password_confirm: ''})\n\n    /* Input onChange -> Update value, store it in state(setTextFieldsValues), if user has a previous warnings then dismiss it with false */\n    const handleChange = (event) => {\n        const { err_password, err_password_confirm } = validationErrors;\n        if (event.target.id === \"password\" && err_password)\n            setValidationErrors({...validationErrors, err_password: false});\n        if (event.target.id === \"password_confirm\" && err_password_confirm)\n            setValidationErrors({...validationErrors, err_password: false});\n        setTextFieldsValues({...fieldValue, [event.target.id]: event.target.value });\n    };\n\n    const handleResetClicked = (e) => {\n        e.preventDefault();\n        const errors = { password: false, password_confirm: false }\n        if (!fieldValue.password.length)\n            errors.password =  t('reset.validUsername');\n        if (fieldValue.password !== fieldValue.password_confirm)\n            errors.password_confirm = t('reset.passwordReq');\n        else if (!validatePassword(fieldValue.password))\n            errors.password = t('reset.passwordweak');\n            setValidationErrors({ err_password: errors.password, err_password_confirm: errors.password_confirm});\n        if (!errors.password && !errors.password_confirm) {\n            API.resetPassword(props.match.params.tokenConf, fieldValue.password, fieldValue.password_confirm)\n                .then(response => {\n                    if (response.status === 200){\n                        store.addNotification({\n                            message: t('reset.resetSuccess'),\n                            insert: \"top\",\n                            type: 'success',\n                            container: \"top-right\",\n                            animationIn: [\"animated\", \"fadeIn\"],\n                            animationOut: [\"animated\", \"fadeOut\"],\n                            dismiss: {\n                                duration: 5000,\n                                onScreen: true\n                            }\n                        });\n                        console.log(\"GOOD\")\n                          props.history.push('/login')\n                    }\n                })\n                .catch(err => {\n                    if (err.response && err.response.data && err.response.data.errors)\n                        setValidationErrors({err_password: err.response.data.errors.password, err_password_confirm: err.response.data.errors.password_confirm,});\n                    else {\n                        store.addNotification({\n                            message: t('reset.resetFail'),\n                            insert: \"top\",\n                            type: 'danger',\n                            container: \"top-right\",\n                            animationIn: [\"animated\", \"fadeIn\"],\n                            animationOut: [\"animated\", \"fadeOut\"],\n                            dismiss: {\n                                duration: 5000,\n                                onScreen: true\n                            }\n                        });console.log(\"NOT GOOD\")\n                          props.history.push('/login')\n                    }\n                });\n        }\n    };\n\n    return (\n        <div className=\"loginbg\">\n        <div className={classes.forgotContainer}>\n            <Grow in={true}>\n                <Container className={classes.login} component=\"main\" maxWidth=\"xs\">\n                    <div className={classes.paper}>\n                        <Typography component=\"h1\" variant=\"h5\">\n                            {t('reset.passwordReset')}\n                        </Typography>\n                        <form className={classes.form} onSubmit={handleResetClicked} noValidate>\n                        <Input type=\"text\" name=\"username\" value=\"\" autoComplete=\"username\" style={{ display: 'none' }} />\n                            <Grid alignContent=\"center\" alignItems=\"center\" container spacing={2}>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        onChange={handleChange}\n                                        helperText={validationErrors.err_password}\n                                        error={Boolean(validationErrors.err_password)}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth={true}\n                                        name=\"password\"\n                                        label={t('reset.password')}\n                                        type=\"password\"\n                                        id=\"password\"\n                                        autoComplete=\"current-password\"\n                                    />\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <TextField\n                                        value={fieldValue.password_confirm || ''}\n                                        helperText={validationErrors.err_password_confirm}\n                                        error={Boolean(validationErrors.err_password_confirm)}\n                                        onChange={handleChange}\n                                        variant=\"outlined\"\n                                        required\n                                        fullWidth={true}\n                                        name=\"password_confirm\"\n                                        label={t('reset.cpassword')}\n                                        type=\"password\"\n                                        id=\"password_confirm\"\n                                        autoComplete=\"current-password\"\n                                        className={classes.textfield}\n                                    />\n                                </Grid>\n                            </Grid>\n                            <Button\n                                size=\"large\"\n                                variant=\"contained\"\n                                type=\"primary\"\n                                color=\"primary\"\n                                className={classes.signupButton}\n                                onClick={handleResetClicked}\n                            >\n                                {t('reset.resetButton')}\n                            </Button>\n                        </form>\n                    </div>\n                </Container>\n            </Grow>\n        </div>\n        </div>\n    );\n}","import React, { useEffect, useState } from 'react'\nimport axios from 'axios';\nimport { useTranslation } from 'react-i18next';\nimport { Card, Avatar, Col, Row, Typography } from 'antd';\nimport { useHistory } from 'react-router-dom';\nconst { Title } = Typography;\nconst { Meta } = Card;\n\nfunction UsersPage() {\n\n    const { t } = useTranslation();\n    const [UserList, setUserList] = useState([])\n    const [Loading, setLoading] = useState(true)\n    const history = useHistory();\n\n    useEffect(() => {\n        axios.get('/api/users/getUsers')\n            .then(response => {\n                if (response.data.success) {\n                    setUserList(response.data.users)\n                    setLoading(false)\n                } else {\n                    history.push(\"/login\");\n                }\n            })\n    }, [history])\n\n    const renderCards = UserList.map((user, index) => {\n        return <Col lg={6} md={8} xs={24} key={user._id}>\n            <Card\n                hoverable\n                style={{ width: 240, display: 'flex', justifyContent: 'center', alignItems: 'center' }}\n                cover={<Avatar src={user.image} size={84} />}\n            >\n                <Meta title={user.username} />\n                <br />\n                <span>{user.firstName} {user.lastName}</span>\n            </Card>\n        </Col>\n    })\n\n    return (\n        <div style={{ width: '85%', margin: '3rem auto' }}>\n            <Title level={2}>{t(\"users.usersTitle\")}</Title>\n            <hr />\n            <br />\n            {!Loading &&\n            <Row gutter={[16, 16]}>\n                {renderCards}\n            </Row>\n            }\n        </div>\n    )\n}\n\nexport default UsersPage","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nconst NotFound = () => {\n    const { t } = useTranslation();\n    return (\n        <div className=\"not_found_container\">\n            <div>{t('notFound.sorry')}</div>\n            <div>\n            {t('notFound.notfound')}\n            </div>\n        </div>\n    );\n};\n\nexport default NotFound;","import React from 'react';\nimport './i18n';\nimport './App.css';\nimport { Suspense } from 'react';\nimport { Route, Switch } from \"react-router-dom\";\nimport Auth from \"../hoc/auth\";\nimport { useTranslation } from 'react-i18next';\nimport Spinner from './views/LandingPage/Sections/Spinner';\nimport ReactNotification from \"react-notifications-component\";\nimport 'react-notifications-component/dist/theme.css'\n// pages for this product\nimport LandingPage from \"./views/LandingPage/LandingPage.js\";\nimport GenresPage from './views/GenresPage/GenresPage.js';\nimport LoginPage from \"./views/LoginPage/LoginPage.js\";\nimport RegisterPage from \"./views/RegisterPage/RegisterPage.js\";\nimport NavBar from \"./views/NavBar/NavBar\";\nimport Footer from \"./views/Footer/Footer\";\nimport MovieDetail from \"./views/MovieDetail/MovieDetail\";\nimport FavoritePage from \"./views/FavoritePage/FavoritePage\";\nimport ProfilePage from \"./views/ProfilePage/ProfilePage\";\nimport Confirmation from \"./views/Confirmation/Confirmation\";\nimport ResPassword from \"./views/ResetPassword/ResetPassword\";\nimport Reset from \"./views/ResetPassword/Reset.js\";\nimport UsersPage from \"./views/UsersPage/UsersPage\";\nimport NotFound from \"./NotFound\";\n\nfunction App() {\n  const { t } = useTranslation();\n  return ( \n  \n    <Suspense fallback={t(<Spinner />)}>\n      <NavBar />\n      <div style={{ paddingTop: '69px', minHeight: 'calc(100vh - 80px)' }}>\n      <div className={\"notifications\"}> <ReactNotification /> </div>\n        <Switch>\n          <Route exact path=\"/\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/login\" component={Auth(LoginPage, false)} />\n          <Route exact path=\"/landing\" component={Auth(LandingPage, true)} />\n          <Route exact path='/landing/genre/:genreName/:genreId' component={Auth(GenresPage, true)} />\n          <Route exact path=\"/register\" component={Auth(RegisterPage, false)} />\n          <Route exact path=\"/movie/:movieId\" component={Auth(MovieDetail, true)} />\n          <Route exact path=\"/favorite\" component={Auth(FavoritePage, true)} />\n          <Route exact path=\"/profile\" component={Auth(ProfilePage, true)} />\n          <Route exact path=\"/users\" component={Auth(UsersPage, true)} />\n          <Route exact path=\"/forgot\" component={Auth(ResPassword, false)} />\n          <Route exact path=\"/confirmation/:tokenConf\" component={Auth(Confirmation, false)} />\n          <Route exact path=\"/confirmation/ResetPassword/Reset/:tokenConf\" component={Auth(Reset, false)}/>\n          <Route component={Auth(NotFound, null)}/>\n        </Switch>\n      </div>\n      <Footer />\n    </Suspense>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { combineReducers } from 'redux';\nimport user from './user_reducer';\n\nconst rootReducer = combineReducers({\n    user,\n});\n\nexport default rootReducer;","import {\n    LOGIN_USER,\n    REGISTER_USER,\n    UPDATE_USER,\n    AUTH_USER,\n    LOGOUT_USER,\n} from '../_actions/types';\n\n\nexport default function (state = {}, action) {\n    switch (action.type) {\n        case REGISTER_USER:\n            return { ...state, register: action.payload }\n        case UPDATE_USER:\n            return { ...state, update: action.payload }\n        case LOGIN_USER:\n            return { ...state, loginSucces: action.payload }\n        case AUTH_USER:\n            return { ...state, userData: action.payload }\n        case LOGOUT_USER:\n            return { ...state }\n        default:\n            return state;\n    }\n}","import React, { Suspense } from 'react';\nimport './components/i18n';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport Spinner from './components/views/LandingPage/Sections/Spinner';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from \"react-router-dom\";\nimport Reducer from './_reducers';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport promiseMiddleware from 'redux-promise';\nimport ReduxThunk from 'redux-thunk';\n\nconst createStoreWithMiddleware = applyMiddleware(promiseMiddleware, ReduxThunk)(createStore);\n\nReactDOM.render(\n  <Provider\n    store={createStoreWithMiddleware(\n      Reducer,\n      window.__REDUX_DEVTOOLS_EXTENSION__ &&\n      window.__REDUX_DEVTOOLS_EXTENSION__()\n    )}\n  >\n    <BrowserRouter>\n      <Suspense fallback={<Spinner />}>\n          <App />\n      </Suspense>\n    </BrowserRouter>\n  </Provider>\n  , document.getElementById('root'));\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n// import React from 'react';\n// import ReactDOM from 'react-dom';\n// import './index.css';\n// import App from './App';\n// import * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\n// // If you want your app to work offline and load faster, you can change\n// // unregister() to register() below. Note this comes with some pitfalls.\n// // Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}